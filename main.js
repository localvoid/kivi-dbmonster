(function(){'use strict';function n(a,b){this.a=a;this.b=b}var p=0;function q(a){p++;this.name=a;this.a=null;r(this)}function r(a){for(var b=[],c=Math.floor(10*Math.random()+1),d=0;d<c;d++){var f=15*Math.random(),e="SELECT blah FROM something";.2>Math.random()&&(e="<IDLE> in transaction");.1>Math.random()&&(e="vacuum");b.push(new n(f,e))}a.a=b}function u(a){a=a.a.slice();a.sort(function(a,c){return a.a-c.a});for(a=a.slice(0,5);5>a.length;)a.push(new n(0,""));return a};var v=null;function y(){this.i=this.a=0;this.h=-1;this.g=this.b=null;this.f=new z;this.c=new z;var a=this;new aa(function(){a.a&=~ba;a.a|=A;a.h++;var b=a.g;if(null!=b){a.g=null;for(var c=0;c<b.length;c++)b[c]()}a.i++;B(a);a.a&=~A});this.j=function(){var b,c,d,f,e,g;a.a&=~C;a.a|=A;a.h++;b=a.c;a.c=a.f;a.f=b;do{for(;0!==(b.a&D);){if(0!==(b.a&F))for(b.a&=~F,c=b.b,e=0;e<c.length;e++)if(d=c[e],null!=d)for(c[e]=null,g=0;g<d.length;g++)f=d[g],f();if(0!==(b.a&G))for(b.a&=~G,d=b.c,e=0;e<d.length;e++)f=d[e],f()}for(;0!==
(b.a&H);)for(b.a&=~H,d=b.f,b.f=null,e=0;e<d.length;e++)f=d[e],f()}while(0!==(b.a&D));for(;0!==(b.a&I);)for(b.a&=~I,d=b.g,e=0;e<d.length;e++)f=d[e],f();a.i++;B(a);a.a&=~A}}var A=1,ba=2,C=4;function B(a){for(;null!=a.b;){var b=a.b;a.b=null;for(var c=0;c<b.length;c++)b[c]()}}function aa(a){this.b=new window.MutationObserver(a);this.a=document.createTextNode("");this.b.observe(this.a,{characterData:!0})}function z(){this.a=0;this.b=[];this.g=this.f=this.c=null}var F=1,G=2,H=4,I=8,D=3;
function ca(a){var b,c;c=v;0===(c.a&C)&&(c.a|=C,window.requestAnimationFrame(c.j));c=c.c;var d;void 0===b&&(b=-1);if(-1===b)c.a|=G,null==c.c&&(c.c=[]),c.c.push(a);else{for(c.a|=F;b>=c.b.length;)c.b.push(null);d=c.b[b];null==d&&(d=c.b[b]=[]);d.push(a)}};function J(a,b,c){this.i=a;this.j=b;this.c=c;this.h=this.f=this.b=this.a=this.g=null}function K(a){return new J(2,a,null)}function L(a,b){void 0===b&&(b=null);return new J(4,a,b)}function M(a,b){return a.i===b.i&&a.j===b.j}
function N(a,b){var c,d,f=a.i,e;if(0!==(f&14)){c=a.f;if(0!==(f&6))e=null,null!=a.g&&(e=a.g),null!=a.a&&(d=a.a.join(" "),e=null==e?d:e+" "+d),null!=e&&(a.c=e,c.className=e);else if(null!=a.g&&(e=c.classList,e.add(a.g)),null!=a.a)for(void 0===e&&(e=c.classList),c=0,d=a.a.length;c<d;c++)e.add(a.a[c]);if(0!==(f&4))O(a.h);else if(null!=a.b)for(c=0,d=a.b.length;c<d;c++)P(a,a.b[c],null,b)}}
function Q(a,b,c){var d=a.f,f=a.i,e,g;b.f=d;if(0!==(f&1))a.c!=b.c&&(a.f.nodeValue=b.c);else if(0!==(f&14)){if(0!==(f&2))a.a!==b.a?(null==b.c&&(g=b.g,null!=b.a&&(e=b.a.join(" "),g=null==g?e:g+" "+e),b.c=g),a.c!==b.c&&(null==b.c?d.className="":d.className=g)):b.c=a.c;else if(a.a!==b.a){e=a.a;g=b.a;var d=d.classList,h,k,l,m;if(null!=e&&0!==e.length)if(null==g||0===g.length)for(h=0;h<e.length;h++)d.remove(e[h]);else if(1===e.length&&1===g.length)k=e[0],l=g[0],k!==l&&(d.remove(k),d.add(l));else if(1===
e.length){k=e[0];m=-1;for(h=0;h<g.length;h++)if(l=g[h],k===l){m=h;break}else d.add(l);if(-1!==m)for(h=m+1;h<g.length;h++)d.add(g[h]);else d.remove(k)}else if(1===g.length){l=g[0];m=-1;for(h=0;h<e.length;h++)if(k=e[h],k===l){m=h;break}else d.remove(k);if(-1!==m)for(h=m+1;h<e.length;h++)d.remove(e[h]);else d.add(l)}else{m=h=0;for(var w=e.length-1,t=g.length-1,E=!1,x;h<=w&&m<=t&&e[h]===g[m];)h++,m++;for(;h<=w&&m<=t&&e[w]===g[t];)w--,t--;for(var U=Array(t-m+1);h<=w;h++){k=e[h];E=!0;for(x=m;x<=t;x++)if(l=
g[x],k==l){E=!1;U[x-m]=!0;break}E&&d.remove(k)}for(h=m;h<=t;h++)U[h-m]||d.add(g[h])}else if(null!=g&&0<g.length)for(h=0;h<g.length;h++)d.add(g[h])}if(0!==(f&4))c=b.h=a.h,a.c!==b.c&&c.g.f(c,b.c),O(c);else if(f=a.b,b=b.b,d=0,h=!1,null!=f&&0!==f.length)if(null==b||0===b.length)for(;d<f.length;)R(a,f[d++]);else if(1===f.length&&1===b.length)e=f[0],g=b[0],M(e,g)?Q(e,g,c):(R(a,e),P(a,g,null,c));else if(1===f.length){for(e=f[0];d<b.length;){g=b[d++];if(M(e,g)){Q(e,g,c);h=!0;break}P(a,g,e.f,c)}if(h)for(;d<
b.length;)P(a,b[d++],null,c);else R(a,e)}else if(1===b.length){for(g=b[0];d<f.length;){e=f[d++];if(M(e,g)){Q(e,g,c);h=!0;break}R(a,e)}if(h)for(;d<f.length;)R(a,f[d++]);else P(a,g,null,c)}else{e=d=0;h=f.length-1;for(g=b.length-1;d<=h&&e<=g;){k=f[d];l=b[e];if(!M(k,l))break;d++;e++;Q(k,l,c)}for(;d<=h&&e<=g;){k=f[h];l=b[g];if(!M(k,l))break;h--;g--;Q(k,l,c)}for(;d<=h&&e<=g;)k=f[d++],l=b[e++],M(k,l)?Q(k,l,c):(P(a,l,k.f,c),R(a,k));for(;d<=h;)R(a,f[d++]);f=g+1;for(f=f<b.length?b[f].f:null;e<=g;)P(a,b[e++],
f,c)}else if(null!=b&&0<b.length)for(d=0;d<b.length;d++)P(a,b[d],null,c)}}function S(a){if(0!==(a.i&4))a=a.h,a.a&=-3,null!=a.c&&S(a.c);else if(null!=a.b)for(var b=0;b<a.b.length;b++)S(a.b[b])}function P(a,b,c,d){var f=b.i;0!==(f&1)?b.f=document.createTextNode(b.c):0!==(f&2)?b.f=0===(f&16)?document.createElement(b.j):document.createElementNS("http://www.w3.org/2000/svg",b.j):0!==(f&4)&&(f=T(b.j,b.c,d),b.f=f.f,b.h=f);a.f.insertBefore(b.f,c);N(b,d)}function R(a,b){a.f.removeChild(b.f);S(b)}
function V(){this.c="div";this.b=null;this.f=da;this.a=null}function ea(a,b,c){this.a=3;this.g=a;this.h=null==b?0:b.h+1;this.b=c;this.c=null;this.f=document.createElement(a.c)}function W(a,b){null==a.c?(b.h=a,0!==(a.a&8)?a.a&=-9:(b.f=a.f,N(b,a))):Q(a.c,b,a);a.c=b}function da(a,b){a.b!==b&&(a.b=b,a.a|=1)}function T(a,b,c){b=new ea(a,c,b);null!=a.b&&a.b(b);return b}function O(a){3==(a.a&3)&&(a.g.a(a),a.a&=-2)};function fa(a){this.a=a}var X=new V;X.a=function(a){var b=K("div");b.g="popover-content";b.b=[new J(1,null,a.b.a)];var c=K("div");c.g="arrow";var d=new J(8,null,null);d.a=ga;d.b=[b,c];W(a,d)};var ga=["popover","left"];function ha(a){this.a=a}var Y=new V;Y.c="tr";
Y.a=function(a){var b=a.b.a,c=u(b),d=K("td");d.g="dbname";d.b=[new J(1,null,b.name)];var f=b.a.length,b=K("span");b.g="label";b.b=[new J(1,null,f.toString())];b.a=20<=f?ia:10<=f?ja:ka;f=K("td");f.g="query-count";f.b=[b];d=[d,f];for(b=0;5>b;b++){var e=c[b],f=e.a,g;f?(g=parseFloat(f).toFixed(2),60<f&&(g=(f%60).toFixed(2).split("."),g=Math.floor(f/60)+":"+g[0]+"."+g[1])):g="";g=new J(1,null,g);var e=L(X,new fa(e.b)),h=K("td");h.g="Query";var k=[];k.push("elapsed");10<=f?k.push("warn_long"):1<=f?k.push("warn"):
k.push("short");h.a=k;h.b=[g,e];d.push(h)}c=new J(8,null,null);c.b=d;W(a,c)};var ia=["label-important"],ja=["label-warning"],ka=["label-success"];function la(a){this.a=a}var Z=new V;Z.c="table";Z.b=function(a){setInterval(function(){for(var b=a.b.a,c=0;c<b.length;c++)r(b[c]);Z.a(a);window.Monitoring.renderRate.ping()},0)};Z.a=function(a){for(var b=a.b.a,c=[],d=0;d<b.length;d++)c.push(L(Y,new ha(b[d])));b=K("tbody");b.b=c;c=new J(8,null,null);c.a=ma;c.b=[b];W(a,c)};var ma=["table","table-striped","latest-data"];document.addEventListener("DOMContentLoaded",function(){v=new y;for(var a=[],b=0;100>b;b++)a.push(new q("cluster"+b)),a.push(new q("cluster"+b+"slave"));ca(function(){var b=document.getElementById("app"),d=T(Z,new la(a),null);b.appendChild(d.f);O(d)})});}).call();
