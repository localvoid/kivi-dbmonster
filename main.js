(function(){'use strict';function q(a,b){this.a=a;this.b=b}var r=0;function t(a){r++;this.name=a;this.a=null;u(this)}function u(a){for(var b=[],d=Math.floor(10*Math.random()+1),c=0;c<d;c++){var e=15*Math.random(),f="SELECT blah FROM something";.2>Math.random()&&(f="<IDLE> in transaction");.1>Math.random()&&(f="vacuum");b.push(new q(e,f))}a.a=b}function v(a){a=a.a.slice();a.sort(function(a,d){return a.a-d.a});for(a=a.slice(0,5);5>a.length;)a.push(new q(0,""));return a};var w=null;function y(){this.i=this.a=0;this.h=-1;this.g=this.b=null;this.f=new z;this.c=new z;var a=this;new aa(function(){a.a&=~ba;a.a|=A;a.h++;var b=a.g;if(null!=b){a.g=null;for(var d=0;d<b.length;d++)b[d]()}a.i++;B(a);a.a&=~A});this.j=function(){var b,d,c,e,f,h;a.a&=~C;a.a|=A;a.h++;b=a.c;a.c=a.f;a.f=b;do{for(;0!==(b.a&D);){if(0!==(b.a&F))for(b.a&=~F,d=b.b,f=0;f<d.length;f++)if(c=d[f],null!=c)for(d[f]=null,h=0;h<c.length;h++)e=c[h],e();if(0!==(b.a&G))for(b.a&=~G,c=b.c,f=0;f<c.length;f++)e=c[f],e()}for(;0!==
(b.a&H);)for(b.a&=~H,c=b.f,b.f=null,f=0;f<c.length;f++)e=c[f],e()}while(0!==(b.a&D));for(;0!==(b.a&I);)for(b.a&=~I,c=b.g,f=0;f<c.length;f++)e=c[f],e();a.i++;B(a);a.a&=~A}}var A=1,ba=2,C=4;function B(a){for(;null!=a.b;){var b=a.b;a.b=null;for(var d=0;d<b.length;d++)b[d]()}}function aa(a){this.b=new window.MutationObserver(a);this.a=document.createTextNode("");this.b.observe(this.a,{characterData:!0})}function z(){this.a=0;this.b=[];this.g=this.f=this.c=null}var F=1,G=2,H=4,I=8,D=3;
function ca(a){var b,d;d=w;0===(d.a&C)&&(d.a|=C,window.requestAnimationFrame(d.j));d=d.c;var c;void 0===b&&(b=-1);if(-1===b)d.a|=G,null==d.c&&(d.c=[]),d.c.push(a);else{for(d.a|=F;b>=d.b.length;)d.b.push(null);c=d.b[b];null==c&&(c=d.b[b]=[]);c.push(a)}};function J(a,b,d){this.i=a;this.j=b;this.c=d;this.h=this.a=this.b=this.f=this.g=null}function K(a){return new J(2,a,null)}function L(a,b){return a.i===b.i&&a.j===b.j&&a.g===b.g}
function M(a,b){var d,c;c=a.i;var e,f;if(0!==(c&14))if(d=a.a,0!==(c&6)?(e=null,null!=a.g&&(e=a.g),null!=a.f&&(f=a.f.join(" "),e=null==e?f:e+" "+f),null!=e&&(a.c=e,d.className=e)):0!==(c&8)&&(e=null,null!=a.g&&(e=a.g),null!=a.f&&(f=a.f.join(" "),e=null==e?f:e+" "+f),null!=e&&(f=d.className,d.className=""===f?e:f+" "+e)),0!==(c&4))N(a.h);else if(null!=a.b)if(c=a.b,"string"===typeof c)d.textContent=c;else for(d=0,c=a.b.length;d<c;d++)O(a,a.b[d],null,b)}
function P(a,b,d){var c=a.i,e=a.b;a.a=b;if(0!==(c&4))e=a.j,d=new Q(11,e,d,a.c,b),null!=e.a&&e.a(d),d=a.h=d,N(d);else if(null!=e&&"string"!==typeof e&&0<e.length){for(a=b.firstChild;a.constructor===Comment;)a=a.nextSibling;for(b=0;b<e.length;b++)for(P(e[b],a,d),a=a.nextSibling;a.constructor===Comment;)a=a.nextSibling}}
function R(a,b,d){var c=a.a,e=a.i,f,h;b.a=c;if(0!==(e&1))a.c!=b.c&&(a.a.nodeValue=b.c);else if(0!==(e&14)){if(0!==(e&2))a.f!==b.f?(null==b.c&&(h=b.g,null!=b.f&&(f=b.f.join(" "),h=null==h?f:h+" "+f),b.c=h),a.c!==b.c&&(null==b.c?c.className="":c.className=h)):b.c=a.c;else if(a.f!==b.f){f=a.f;h=b.f;var c=c.classList,g,k,l,m;if(null!=f&&0!==f.length)if(null==h||0===h.length)for(g=0;g<f.length;g++)c.remove(f[g]);else if(1===f.length&&1===h.length)k=f[0],l=h[0],k!==l&&(c.remove(k),c.add(l));else if(1===
f.length){k=f[0];m=-1;for(g=0;g<h.length;g++)if(l=h[g],k===l){m=g;break}else c.add(l);if(-1!==m)for(g=m+1;g<h.length;g++)c.add(h[g]);else c.remove(k)}else if(1===h.length){l=h[0];m=-1;for(g=0;g<f.length;g++)if(k=f[g],k===l){m=g;break}else c.remove(k);if(-1!==m)for(g=m+1;g<f.length;g++)c.remove(f[g]);else c.add(l)}else{m=g=0;for(var p=f.length-1,n=h.length-1,E=!1,x;g<=p&&m<=n&&f[g]===h[m];)g++,m++;for(;g<=p&&m<=n&&f[p]===h[n];)p--,n--;for(var S=Array(n-m+1);g<=p;g++){k=f[g];E=!0;for(x=m;x<=n;x++)if(l=
h[x],k==l){E=!1;S[x-m]=!0;break}E&&c.remove(k)}for(g=m;g<=n;g++)S[g-m]||c.add(h[g])}else if(null!=h&&0<h.length)for(g=0;g<h.length;g++)c.add(h[g])}if(0!==(e&4))d=b.h=a.h,a.c!==b.c&&d.g.f(d,b.c),N(d);else if(e=a.b,b=b.b,c=0,g=!1,"string"===typeof e)e!==b&&((d=a.a.firstChild)?d.nodeValue=b:a.a.textContent=b);else if(null!=e&&0!==e.length)if(null==b||0===b.length)for(;c<e.length;)T(a,e[c++]);else if(1===e.length&&1===b.length)f=e[0],h=b[0],L(f,h)?R(f,h,d):(T(a,f),O(a,h,null,d));else if(1===e.length){for(f=
e[0];c<b.length;){h=b[c++];if(L(f,h)){R(f,h,d);g=!0;break}O(a,h,f.a,d)}if(g)for(;c<b.length;)O(a,b[c++],null,d);else T(a,f)}else if(1===b.length){for(h=b[0];c<e.length;){f=e[c++];if(L(f,h)){R(f,h,d);g=!0;break}T(a,f)}if(g)for(;c<e.length;)T(a,e[c++]);else O(a,h,null,d)}else{f=c=0;g=e.length-1;for(h=b.length-1;c<=g&&f<=h;){k=e[c];l=b[f];if(!L(k,l))break;c++;f++;R(k,l,d)}for(;c<=g&&f<=h;){k=e[g];l=b[h];if(!L(k,l))break;g--;h--;R(k,l,d)}for(;c<=g&&f<=h;)k=e[c++],l=b[f++],L(k,l)?R(k,l,d):(O(a,l,k.a,d),
T(a,k));for(;c<=g;)T(a,e[c++]);e=h+1;for(e=e<b.length?b[e].a:null;f<=h;)O(a,b[f++],e,d)}else if(null!=b&&0<b.length)for(c=0;c<b.length;c++)O(a,b[c],null,d)}}function U(a){if(0!==(a.i&4))a=a.h,a.a&=-3,null!=a.c&&U(a.c);else if(null!=a.b&&(a=a.b,"string"!==typeof a))for(var b=0;b<a.length;b++)U(a[b])}
function O(a,b,d,c){var e=b.i;0!==(e&1)?b.a=document.createTextNode(b.c):0!==(e&2)?b.a=0===(e&16)?document.createElement(b.j):document.createElementNS("http://www.w3.org/2000/svg",b.j):0!==(e&4)&&(e=V(b.j,b.c,c),b.a=e.f,b.h=e);a.a.insertBefore(b.a,d);M(b,c)}function T(a,b){a.a.removeChild(b.a);U(b)}function W(){this.c="div";this.a=null;this.f=da;this.b=null}function Q(a,b,d,c,e){this.a=a;this.g=b;this.h=null==d?0:d.h+1;this.b=c;this.f=e;this.c=null}
function X(a,b){null==a.c?(b.h=a,0!==(a.a&8)?(P(b,a.f,a),a.a&=-9):(b.a=a.f,M(b,a))):R(a.c,b,a);a.c=b}function da(a,b){a.b!==b&&(a.b=b,a.a|=1)}function V(a,b,d){b=new Q(3,a,d,b,document.createElement(a.c));null!=a.a&&a.a(b);return b}function N(a){3==(a.a&3)&&(a.g.b(a),a.a&=-2)};function ea(a){this.a=a}var Y=new W;Y.b=function(a){var b=K("div");b.g="popover-content";b.b=a.b.a;var d=K("div");d.g="arrow";var c=new J(8,null,null);c.f=fa;c.b=[b,d];X(a,c)};var fa=["popover","left"];function ga(a){this.a=a}var Z=new W;Z.c="table";Z.a=function(a){function b(){for(var d=a.b.a,c=0;c<d.length;c++)u(d[c]);Z.b(a);window.Monitoring.renderRate.ping();setTimeout(b,0)}b()};
Z.b=function(a){for(var b=a.b.a,d=Array(b.length),c=0;c<b.length;c++){var e=b[c],f=K("tr"),h=v(e),g=K("td");g.g="dbname";g.b=e.name;var k=e.a.length,e=K("span");e.g="label";e.b=""+k;e.f=20<=k?ha:10<=k?ia:ja;k=K("td");k.g="query-count";k.b=[e];g=[g,k];for(e=0;5>e;e++){var l=h[e],k=l.a,m;k?(m=parseFloat(k).toFixed(2),60<k&&(m=(k%60).toFixed(2).split("."),m=Math.floor(k/60)+":"+m[0]+"."+m[1])):m="";m=new J(1,null,m);var l=new ea(l.b),p=Y;void 0===l&&(l=null);l=new J(4,p,l);p=K("td");p.g="Query";var n=
[];n.push("elapsed");10<=k?n.push("warn_long"):1<=k?n.push("warn"):n.push("short");p.f=n;p.b=[m,l];g.push(p)}f.b=g;d[c]=f}b=K("tbody");b.b=d;d=new J(8,null,null);d.f=ka;d.b=[b];X(a,d)};var ka=["table","table-striped","latest-data"],ha=["label-important"],ia=["label-warning"],ja=["label-success"];document.addEventListener("DOMContentLoaded",function(){w=new y;for(var a=[],b=0;100>b;b++)a.push(new t("cluster"+b)),a.push(new t("cluster"+b+"slave"));ca(function(){var b=document.getElementById("app"),c=V(Z,new ga(a),null);b.appendChild(c.f);N(c)})});}).call();
