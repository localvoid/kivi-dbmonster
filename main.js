(function(){'use strict';function n(a,b){this.a=a;this.b=b}var aa=0;function p(a){aa++;this.name=a;this.a=null;q(this)}function q(a){for(var b=[],e=Math.floor(10*Math.random()+1),c=0;c<e;c++){var d=15*Math.random(),f="SELECT blah FROM something";.2>Math.random()&&(f="<IDLE> in transaction");.1>Math.random()&&(f="vacuum");b.push(new n(d,f))}a.a=b}function ba(a){a=a.a.slice();a.sort(function(a,e){return a.a-e.a});for(a=a.slice(0,5);5>a.length;)a.push(new n(0,""));return a};var r=null;function ca(){this.i=this.a=0;this.h=-1;this.g=this.b=null;this.f=new u;this.c=new u;var a=this;new da(function(){a.a&=~ea;a.a|=v;a.h++;var b=a.g;if(null!=b){a.g=null;for(var e=0;e<b.length;e++)b[e]()}a.i++;w(a);a.a&=~v});this.j=function(){var b,e,c,d,f,g;a.a&=~x;a.a|=v;a.h++;b=a.c;a.c=a.f;a.f=b;do{for(;0!==(b.a&A);){if(0!==(b.a&B))for(b.a&=~B,e=b.b,f=0;f<e.length;f++)if(c=e[f],null!=c)for(e[f]=null,g=0;g<c.length;g++)d=c[g],d();if(0!==(b.a&C))for(b.a&=~C,c=b.c,f=0;f<c.length;f++)d=c[f],d()}for(;0!==
(b.a&D);)for(b.a&=~D,c=b.f,b.f=null,f=0;f<c.length;f++)d=c[f],d()}while(0!==(b.a&A));for(;0!==(b.a&E);)for(b.a&=~E,c=b.g,f=0;f<c.length;f++)d=c[f],d();a.i++;w(a);a.a&=~v}}var v=1,ea=2,x=4;function w(a){for(;null!=a.b;){var b=a.b;a.b=null;for(var e=0;e<b.length;e++)b[e]()}}function da(a){this.b=new window.MutationObserver(a);this.a=document.createTextNode("");this.b.observe(this.a,{characterData:!0})}function u(){this.a=0;this.b=[];this.g=this.f=this.c=null}var B=1,C=2,D=4,E=8,A=3;
function fa(a){var b,e;e=r;0===(e.a&x)&&(e.a|=x,window.requestAnimationFrame(e.j));e=e.c;var c;void 0===b&&(b=-1);if(-1===b)e.a|=C,null==e.c&&(e.c=[]),e.c.push(a);else{for(e.a|=B;b>=e.b.length;)e.b.push(null);c=e.b[b];null==c&&(c=e.b[b]=[]);c.push(a)}};function F(a,b,e){this.i=a;this.j=b;this.b=e;this.h=this.a=this.f=this.c=this.g=null}function G(a){return new F(2,a,null)}function ga(a){var b=I;void 0===a&&(a=null);return new F(4,b,a)}function J(a,b){a.g=b;return a}function K(a,b){a.c=b;return a}function L(a,b){a.f=b;return a}function M(a,b){return a.i===b.i&&a.j===b.j&&a.g===b.g}
function N(a,b){var e,c;c=a.i;var d,f;if(0!==(c&14))if(e=a.a,0!==(c&6)?(d=null,null!=a.g&&(d=a.g),null!=a.c&&(f=a.c.join(" "),d=null==d?f:d+" "+f),null!=d&&(a.b=d,e.className=d)):0!==(c&8)&&(d=null,null!=a.g&&(d=a.g),null!=a.c&&(f=a.c.join(" "),d=null==d?f:d+" "+f),null!=d&&(f=e.className,e.className=""===f?d:f+" "+d)),0!==(c&4))O(a.h);else if(null!=a.f)if(c=a.f,"string"===typeof c)e.textContent=c;else for(e=0,c=a.f.length;e<c;e++)P(a,a.f[e],null,b)}
function Q(a,b,e){var c=a.i,d=a.f;a.a=b;if(0!==(c&4))d=a.j,b=new R(11,d,e,a.b,b),null!=d.a&&d.a(b),b=a.h=b,O(b);else if(null!=d&&"string"!==typeof d&&0<d.length){for(a=b.firstChild;a.constructor===Comment;)c=a,a=a.nextSibling,b.removeChild(c);for(var f=0;f<d.length;f++)for(Q(d[f],a,e),a=a.nextSibling;a.constructor===Comment;)c=a,a=a.nextSibling,b.removeChild(c)}}
function S(a,b,e){var c=a.a,d=a.i,f,g;b.a=c;if(0!==(d&1))a.b!==b.b&&(a.a.nodeValue=b.b);else if(0!==(d&14)){if(0!==(d&2))a.c!==b.c?(null==b.b&&(g=b.g,null!=b.c&&(f=b.c.join(" "),g=null==g?f:g+" "+f),b.b=g),a.b!==b.b&&(null==b.b?c.className="":c.className=g)):b.b=a.b;else if(a.c!==b.c){f=a.c;g=b.c;var c=c.classList,h,k,l,m;if(null!=f&&0!==f.length)if(null==g||0===g.length)for(h=0;h<f.length;h++)c.remove(f[h]);else if(1===f.length&&1===g.length)k=f[0],l=g[0],k!==l&&(c.remove(k),c.add(l));else if(1===
f.length){k=f[0];m=-1;for(h=0;h<g.length;h++)if(l=g[h],k===l){m=h;break}else c.add(l);if(-1!==m)for(h=m+1;h<g.length;h++)c.add(g[h]);else c.remove(k)}else if(1===g.length){l=g[0];m=-1;for(h=0;h<f.length;h++)if(k=f[h],k===l){m=h;break}else c.remove(k);if(-1!==m)for(h=m+1;h<f.length;h++)c.remove(f[h]);else c.add(l)}else{m=h=0;for(var y=f.length-1,t=g.length-1,H=!1,z;h<=y&&m<=t&&f[h]===g[m];)h++,m++;for(;h<=y&&m<=t&&f[y]===g[t];)y--,t--;for(var W=Array(t-m+1);h<=y;h++){k=f[h];H=!0;for(z=m;z<=t;z++)if(l=
g[z],k==l){H=!1;W[z-m]=!0;break}H&&c.remove(k)}for(h=m;h<=t;h++)W[h-m]||c.add(g[h])}else if(null!=g&&0<g.length)for(h=0;h<g.length;h++)c.add(g[h])}if(0!==(d&4))e=b.h=a.h,a.b!==b.b&&e.g.f(e,b.b),O(e);else if(d=a.f,b=b.f,c=0,h=!1,"string"===typeof d)d!==b&&((e=a.a.firstChild)?e.nodeValue=b:a.a.textContent=b);else if(null!=d&&0!==d.length)if(null==b||0===b.length)for(;c<d.length;)T(a,d[c++]);else if(1===d.length&&1===b.length)f=d[0],g=b[0],M(f,g)?S(f,g,e):(T(a,f),P(a,g,null,e));else if(1===d.length){for(f=
d[0];c<b.length;){g=b[c++];if(M(f,g)){S(f,g,e);h=!0;break}P(a,g,f.a,e)}if(h)for(;c<b.length;)P(a,b[c++],null,e);else T(a,f)}else if(1===b.length){for(g=b[0];c<d.length;){f=d[c++];if(M(f,g)){S(f,g,e);h=!0;break}T(a,f)}if(h)for(;c<d.length;)T(a,d[c++]);else P(a,g,null,e)}else{f=c=0;h=d.length-1;for(g=b.length-1;c<=h&&f<=g;){k=d[c];l=b[f];if(!M(k,l))break;c++;f++;S(k,l,e)}for(;c<=h&&f<=g;){k=d[h];l=b[g];if(!M(k,l))break;h--;g--;S(k,l,e)}for(;c<=h&&f<=g;)k=d[c++],l=b[f++],M(k,l)?S(k,l,e):(P(a,l,k.a,e),
T(a,k));for(;c<=h;)T(a,d[c++]);d=g+1;for(d=d<b.length?b[d].a:null;f<=g;)P(a,b[f++],d,e)}else if(null!=b&&0<b.length)for(c=0;c<b.length;c++)P(a,b[c],null,e)}}function U(a){if(0!==(a.i&4))a=a.h,a.a&=-3,null!=a.c&&U(a.c);else if(null!=a.f&&(a=a.f,"string"!==typeof a))for(var b=0;b<a.length;b++)U(a[b])}
function P(a,b,e,c){var d=b.i;0!==(d&1)?b.a=document.createTextNode(b.b):0!==(d&2)?b.a=0===(d&16)?document.createElement(b.j):document.createElementNS("http://www.w3.org/2000/svg",b.j):0!==(d&4)&&(d=V(b.j,b.b,c),b.a=d.f,b.h=d);a.a.insertBefore(b.a,e);N(b,c)}function T(a,b){a.a.removeChild(b.a);U(b)}function X(){this.c="div";this.a=null;this.f=ha;this.b=null}function R(a,b,e,c,d){this.a=a;this.g=b;this.h=null==e?0:e.h+1;this.b=c;this.f=d;this.c=null}
function Y(a,b){null==a.c?(b.h=a,0!==(a.a&8)?(Q(b,a.f,a),a.a&=-9):(b.a=a.f,N(b,a))):S(a.c,b,a);a.c=b}function ha(a,b){a.b!==b&&(a.b=b,a.a|=1)}function V(a,b,e){b=new R(3,a,e,b,document.createElement(a.c));null!=a.a&&a.a(b);return b}function O(a){3==(a.a&3)&&(a.g.b(a),a.a&=-2)};function ia(a){this.a=a}var I=new X;I.b=function(a){Y(a,L(K(new F(8,null,null),ja),[L(J(G("div"),"popover-content"),a.b.a),J(G("div"),"arrow")]))};var ja=["popover","left"];function ka(a){this.a=a}var Z=new X;Z.c="table";Z.a=function(a){function b(){for(var e=a.b.a,c=0;c<e.length;c++)q(e[c]);Z.b(a);window.Monitoring.renderRate.ping();setTimeout(b,0)}b()};
Z.b=function(a){for(var b=a.b.a,e=Array(b.length),c=0;c<b.length;c++){for(var d=b[c],f=ba(d),g=d.a.length,d=[L(J(G("td"),"dbname"),d.name),L(J(G("td"),"query-count"),[L(K(J(G("span"),"label"),20<=g?la:10<=g?ma:na),""+g)])],g=0;5>g;g++){var h=f[g],k=h.a;d.push(L(K(J(G("td"),"Query"),10<=k?oa:1<=k?pa:qa),[new F(1,null,ra(k)),ga(new ia(h.b))]))}e[c]=L(G("tr"),d)}Y(a,L(K(new F(8,null,null),sa),[L(G("tbody"),e)]))};
function ra(a){if(!a)return"";var b=parseFloat(a).toFixed(2);60<a&&(b=(a%60).toFixed(2).split("."),b=Math.floor(a/60)+":"+b[0]+"."+b[1]);return b}var oa=["elapsed","warn_long"],pa=["elapsed","warn"],qa=["elapsed","short"],sa=["table","table-striped","latest-data"],la=["label-important"],ma=["label-warning"],na=["label-success"];document.addEventListener("DOMContentLoaded",function(){r=new ca;for(var a=[],b=0;100>b;b++)a.push(new p("cluster"+b)),a.push(new p("cluster"+b+"slave"));fa(function(){var b=document.getElementById("app"),c=V(Z,new ka(a),null);b.appendChild(c.f);O(c)})});}).call();
