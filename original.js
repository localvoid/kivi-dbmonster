(function(){'use strict';function p(a,b){this.a=a;this.b=b}var aa=0;function q(a){aa++;this.name=a;this.a=null;a=[];for(var b=Math.floor(10*Math.random()+1),c=0;c<b;c++)a.push(new p(15*Math.random(),.1>Math.random()?"vacuum":.2>Math.random()?"<IDLE> in transaction":"SELECT blah FROM something"));this.a=a}var ba=new p(0,"");function ca(a){a=a.a.slice();a.sort(function(a,c){return a.a-c.a});for(a=a.slice(0,5);5>a.length;)a.push(ba);return a}
function da(){this.a=[];for(var a=0;100>a;a++)this.a.push(new q("cluster"+a)),this.a.push(new q("cluster"+a+"slave"))};function t(a,b){this.a=a;this.b=b};function u(){this.a=0;this.g=[];this.b=this.f=this.c=this.h=null};function ea(a){var b=this.a="__pms"+Math.random().toString();window.addEventListener("message",function(c){c.source===window&&c.data===b&&a()})};function fa(a){this.b=new window.MutationObserver(a);this.a=document.createTextNode("");this.b.observe(this.a,{characterData:!0})};function v(){this.a=[];this.b=[]}function w(a){for(var b=0,c=a.a;b<c.length;)c[b++]();b=0;for(c=a.b;b<c.length;)c[b].call(c[b+1]),b+=2};new function(){this.a=0;this.c=1;this.b=new v;this.g=new v;this.f=new u;this.h=new u;this.j=[];var a=this;new fa(function(){a.a|=256;for(var b=a.b;0!==b.a.length||0!==b.b.length;)a.b=new v,w(b),b=a.b;a.c++;a.a&=-258});new ea(function(){a.a&=-3;a.a|=256;var b=a.g;if(0!==b.a.length||0!==b.b.length)a.g=new v,w(b);a.c++;a.a&=-257});this.i=function(){var b=a.j,c,d,g,f,e,h;a.a&=-9;a.a|=256;c=a.h;a.h=a.f;a.f=c;for(e=0;e<b.length;e++)b[e].a|=8;do{for(;0!==(c.a&3);){if(0!==(c.a&1))for(c.a&=-2,d=c.g,e=0;e<
d.length;e++)if(g=d[e],null!==g)for(d[e]=null,h=0;h<g.length;h++)f=g[h],f.constructor===x?y(f):f.call();if(0!==(c.a&2))for(c.a&=-3,g=c.h,e=0;e<g.length;e++)f=g[e],f.constructor===x?y(f):f.call()}e=0;for(h=b.length;e<h;)f=b[e++],0===(f.a&16)?(f.a&=-33,e===h?b.pop():b[--e]=b.pop()):y(f);for(;0!==(c.a&4);)for(c.a&=-5,g=c.c,c.c=null,e=0;e<g.length;e++)f=g[e],f.constructor===x?y(f):f.call()}while(0!==(c.a&3));for(;0!==(c.a&8);)for(c.a&=-9,g=c.f,e=0;e<g.length;e++)f=g[e],f.constructor===x?y(f):f.call();
null!==c.b&&(c.b.constructor===z?c.b.b.focus():c.b.focus(),c.b=null);0<b.length&&0===(a.a&8)&&(a.a|=8,window.requestAnimationFrame(a.i));a.c++;a.a&=-257}};function A(a){this.a=0;this.g=a;this.c=this.b=this.f=null}function B(a){var b;return null===a.c?(b=0===(a.a&1)?document.createElement(a.g):document.createElementNS("http://www.w3.org/2000/svg",a.g),null!==a.f&&(b.style.cssText=a.f),null!==a.b&&(b.className=a.b),0!==(a.a&2)&&(a.c=b),b):a.c.cloneNode(!1)}function E(a,b){a.b=b;return a};function F(){this.a=0;this.b="div";this.c=null}function G(a,b){var c;c="string"===typeof a.b?0===(a.a&1)?document.createElement(a.b):document.createElementNS("http://www.w3.org/2000/svg",a.b):B(a.b);return new x(8,a,b,c)}function x(a,b,c,d){this.a=a;this.i=b;this.j=null===c?0:c.j+1;this.b=null;this.f=d;this.h=this.g=this.c=null}function H(a,b){a.b!==b&&(a.b=b,a.a|=8)}function y(a){10===(a.a&10)&&(a.i.c(a),a.a&=-9)}
function J(a,b){null===a.c?(b.h=a,0!==(a.a&4)?(K(b,a.f,a),a.a&=-5):(b.b=a.f,L(b,a))):M(a.c,b,a);a.c=b}function N(a){a.a|=2;a=a.c;null!==a&&(a.constructor===z?Q(a):a.constructor===x&&N(a))}function ga(a){a.a|=1;var b=a.c;null!==b&&(b.constructor===z?R(b):b.constructor===x&&ga(b));a.a&=-19;b=a.g;if(null!==b)if(b.constructor===t)b.b.a(b);else for(var c=0;c<b.length;c++){var d=b[c];d.b.a(d)}a.g=null;b=a.h;if(null!==b)if(b.constructor===t)b.b.a(b);else for(c=0;c<b.length;c++)d=b[c],d.b.a(d);a.h=null};function z(a,b,c){this.a=a;this.i=b;this.g=c;this.h=this.b=this.f=this.c=this.j=null}function S(a){return new z(2,a,null)}function ha(a,b){void 0===b&&(b=null);return new z(4,a,b)}function ia(a,b){a.c=b;return a}function T(a,b){a.f=b;return a}function U(a,b){return a.a===b.a&&a.i===b.i&&!0}
function ja(a,b){var c=a.a;0!==(c&1)?a.b=document.createTextNode(a.g):0!==(c&2)?a.b="string"===typeof a.i?0===(c&16)?document.createElement(a.i):document.createElementNS("http://www.w3.org/2000/svg",a.i):B(a.i):0!==(c&4)&&(c=G(a.i,b),a.b=c.f,a.h=c)}
function L(a,b){var c,d,g,f,e=a.a,h;if(0!==(e&10)){h=a.b;var m=a.g;if(null!==m)for(f=Object.keys(m),c=0,d=f.length;c<d;c++)g=f[c],h[g]=m[g];null!==a.j&&(0===(e&16)?h.style.cssText=a.j:h.setAttribute("style",a.j));null!==a.c&&(0===(e&16)?h.className=a.c:h.setAttribute("class",a.c));e=a.f;if(null!==e)if(0===(a.a&768))if("string"===typeof e)h.textContent=e;else for(c=0,d=e.length;c<d;c++)V(a,e[c],null,b);else h=a.b,0!==(a.a&256)?h.value=a.f:h.checked=a.f}else 0!==(e&4)&&(c=a.h,h=a.b,null!==a.c&&(0===
(e&16)?h.className=a.c:h.setAttribute("class",a.c)),H(c,a.g),y(c))}function K(a,b,c){var d=a.a,g=a.f;a.b=b;if(0!==(d&4))b=new x(12,a.i,c,b),b=a.h=b,H(b,a.g),y(b);else if(null!==g&&"string"!==typeof g&&0<g.length){for(var d=b.firstChild,f;8===d.nodeType;)f=d,d=d.nextSibling,b.removeChild(f);for(a=0;a<g.length;a++)for(K(g[a],d,c),d=d.nextSibling;8===d.nodeType;)f=d,d=d.nextSibling,b.removeChild(f)}}
function M(a,b,c){var d=a.b,g=a.a,f;b.b=d;if(0!==(g&1))a.g!==b.g&&(a.b.nodeValue=b.g);else if(0!==(g&10)){if(a.g!==b.g){f=a.g;var e=b.g,h,m,l,k,n,r;if(null!==f)if(null===e)for(k=Object.keys(f),h=0,m=k.length;h<m;h++)d[k[h]]=void 0;else{k=Object.keys(f);h=0;for(m=k.length;h<m;h++)l=k[h],e.hasOwnProperty(l)?(n=f[l],r=e[l],n!==r&&(d[l]=r)):d[l]=void 0;k=Object.keys(e);h=0;for(m=k.length;h<m;h++)l=k[h],f.hasOwnProperty(l)||(d[l]=e[l])}else if(null!==e)for(k=Object.keys(e),h=0,m=k.length;h<m;h++)l=k[h],
d[l]=e[l]}a.j!==b.j&&(f=null===b.j?"":b.j,0===(g&16)?d.style.cssText=f:d.setAttribute("style",f));a.c!==b.c&&(f=null===b.c?"":b.c,0===(g&16)?d.className=f:d.setAttribute("class",f));if(0===(a.a&768))if(g=a.f,b=b.f,e=0,h=!1,"string"===typeof g)if(null===b)a.b.removeChild(a.b.firstChild);else if("string"===typeof b)g!==b&&((c=a.b.firstChild)?c.nodeValue=b:a.b.textContent=b);else for(a.b.removeChild(a.b.firstChild);e<b.length;)V(a,b[e++],null,c);else if("string"===typeof b){if(null!==g)for(;e<g.length;)W(a,
g[e++]);a.b.textContent=b}else if(null!==g&&0!==g.length)if(null===b||0===b.length)for(;e<g.length;)W(a,g[e++]);else if(1===g.length&&1===b.length)d=g[0],f=b[0],U(d,f)?M(d,f,c):ka(a,f,d,c);else if(1===g.length){d=g[0];if(0===(a.a&32))for(;e<b.length;){f=b[e++];if(U(d,f)){M(d,f,c);h=!0;break}V(a,f,d.b,c)}else for(;e<b.length;){f=b[e++];M(d,f,c);h=!0;break}if(h)for(;e<b.length;)V(a,b[e++],null,c);else W(a,d)}else if(1===b.length){f=b[0];if(0===(a.a&32))for(;e<g.length;){d=g[e++];if(U(d,f)){M(d,f,c);
h=!0;break}W(a,d)}else for(;e<g.length;){d=g[e++];M(d,f,c);h=!0;break}if(h)for(;e<g.length;)W(a,g[e++]);else V(a,f,null,c)}else if(0===(a.a&32)){d=e=0;h=g.length-1;for(f=b.length-1;e<=h&&d<=f;){m=g[e];l=b[d];if(!U(m,l))break;e++;d++;M(m,l,c)}for(;e<=h&&d<=f;){m=g[h];l=b[f];if(!U(m,l))break;h--;f--;M(m,l,c)}for(;e<=h&&d<=f;)m=g[e++],l=b[d++],U(m,l)?M(m,l,c):ka(a,l,m,c);if(e<=h){do W(a,g[e++]);while(e<=h)}else if(d<=f){g=f+1;g=g<b.length?b[g].b:null;do V(a,b[d++],g,c);while(d<=f)}}else{d=l=0;k=g.length-
1;m=b.length-1;f=g[l];var e=b[d],C,I;n=0;a:do for(;;){M(f,e,c);l++;d++;if(l>k||d>m)break a;f=g[l];e=b[d]}while(l<=k&&d<=m);if(l>k)for(k=m+1,k=k<b.length?b[k].b:null;d<=m;)V(a,b[d++],k,c);else if(d>m)for(;l<=k;)W(a,g[l++]);else{r=k-l+1;e=m-d+1;f=Array(e);for(h=0;h<e;h++)f[h]=-1;var O=!1,P=0;if(16>=r*e)for(h=l;h<=k;h++){var D=!0;C=g[h];for(l=d;l<=m;){I=b[l];f[l-d]=h;n>l?O=!0:n=l;M(C,I,c);D=!1;break}D&&(W(a,C),P++)}else{D=new Map;for(h=d;h<=m;h++)D.set(null,h);for(h=l;h<=k;h++)C=g[h],l=D.get(null),void 0!==
l?(I=b[l],f[l-d]=h,n>l?O=!0:n=l,M(C,I,c)):(W(a,C),P++)}if(O){h=f.slice(0);g=[];g.push(0);m=0;for(l=f.length;m<l;m++)if(-1!==f[m])if(k=g[g.length-1],f[k]<f[m])h[m]=k,g.push(m);else{k=0;for(n=g.length-1;k<n;)r=(k+n)/2|0,f[g[r]]<f[m]?k=r+1:n=r;f[m]<f[g[k]]&&(0<k&&(h[m]=g[k-1]),g[k]=m)}k=g.length;for(n=g[k-1];0<k--;)g[k]=n,n=h[n];l=g.length-1;for(h=e-1;0<=h;h--)-1===f[h]?(m=h+d,e=b[m],k=m+1,k=k<b.length?b[k].b:null,V(a,e,k,c)):0>l||h!==g[l]?(m=h+d,e=b[m],k=m+1,k=k<b.length?b[k].b:null,a.b.insertBefore(e.b,
k)):l--}else if(r-P!==e)for(h=e-1;0<=h;h--)-1===f[h]&&(m=h+d,e=b[m],k=m+1,k=k<b.length?b[k].b:null,V(a,e,k,c))}}else{if(null!==b&&0<b.length)for(e=0;e<b.length;e++)V(a,b[e],null,c)}else 0!==(g&256)?d.value!==b.f&&(d.value=b.f):d.checked!==b.f&&(d.checked=b.f)}else 0!==(g&4)&&(a.c!==b.c&&(f=null===b.c?"":b.c,0===(g&16)?d.className=f:d.setAttribute("class",f)),a=b.h=a.h,H(a,b.g),y(a))}
function Q(a){if(0===(a.a&4)){if(a=a.f,null!==a&&"string"!==typeof a)for(var b=0;b<a.length;b++)Q(a[b])}else N(a.h)}function R(a){if(0!==(a.a&4))ga(a.h);else if(null!==a.f&&(a=a.f,"string"!==typeof a))for(var b=0;b<a.length;b++)R(a[b])}function V(a,b,c,d){ja(b,d);a.b.insertBefore(b.b,c);0!==(b.a&4)&&N(b.h);L(b,d)}function ka(a,b,c,d){ja(b,d);a.b.replaceChild(b.b,c.b);R(c);0!==(b.a&4)&&N(b.h);L(b,d)}function W(a,b){a.b.removeChild(b.b);R(b)};var X=new F;X.b=E(new A("div"),"popover left");var la=E(new A("div"),"popover-content"),ma=E(new A("div"),"arrow");X.c=function(a){J(a,T(new z(8,null,null),[T(S(la),a.b),S(ma)]))};function na(a){if(!a)return"";var b=parseFloat(a).toFixed(2);60<a&&(b=(a%60).toFixed(2).split("."),b=Math.floor(a/60)+":"+b[0]+"."+b[1]);return b}var Y=new F;Y.b="tr";var oa=E(new A("td"),"dbname"),pa=E(new A("td"),"query-count");
Y.c=function(a){for(var b=a.b,c=ca(b),d=b.a.length,b=[T(S(oa),b.name),T(S(pa),[T(ia(S("span"),20<=d?"label label-important":10<=d?"label label-warning":"label label-success"),""+d)])],d=0;5>d;d++){var g=c[d],f=g.a;b.push(T(ia(S("td"),10<=f?"Query elapsed warn_long":1<=f?"Query elapsed warn":"Query elapsed short"),[new z(1,null,na(f)),ha(X,g.b)]))}J(a,T(new z(8,null,null),b))};var Z=new F;Z.b=E(new A("table"),"table table-striped latest-data");Z.c=function(a){for(var b=a.b.a,c=Array(b.length),d=0;d<b.length;d++)c[d]=ha(Y,b[d]);J(a,T(new z(8,null,null),[T(S("tbody"),c)]))};function qa(a){var b=document.getElementById("app"),c=G(Z,null);b.appendChild(c.f);c.a|=2;H(c,a);y(c);return c};document.addEventListener("DOMContentLoaded",function(){function a(){for(var d=b.a,g=0;g<d.length;g++)d[g]=new q(d[g].name);Z.c(c);window.Monitoring.renderRate.ping();setTimeout(a,0)}var b=new da,c=qa(b);setTimeout(a,0)});}).call();
