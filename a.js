(function(){'use strict';function p(a,b){this.a=a;this.b=b};function q(){this.a=0;this.g=[];this.b=this.f=this.c=this.h=null};function aa(a){var b=this.a="__pms"+Math.random().toString();window.addEventListener("message",function(c){c.source===window&&c.data===b&&a()})};function ba(a){this.b=new window.MutationObserver(a);this.a=document.createTextNode("");this.b.observe(this.a,{characterData:!0})};function r(){this.a=[];this.b=[]}function t(a){for(var b=0,c=a.a;b<c.length;)c[b++]();b=0;for(c=a.b;b<c.length;)c[b].call(c[b+1]),b+=2};new function(){this.a=0;this.c=1;this.b=new r;this.g=new r;this.f=new q;this.h=new q;this.j=[];var a=this;new ba(function(){a.a|=256;for(var b=a.b;0!==b.a.length||0!==b.b.length;)a.b=new r,t(b),b=a.b;a.c++;a.a&=-258});new aa(function(){a.a&=-3;a.a|=256;var b=a.g;if(0!==b.a.length||0!==b.b.length)a.g=new r,t(b);a.c++;a.a&=-257});this.i=function(){var b=a.j,c,f,e,g,d,h;a.a&=-9;a.a|=256;c=a.h;a.h=a.f;a.f=c;for(d=0;d<b.length;d++)b[d].a|=8;do{for(;0!==(c.a&3);){if(0!==(c.a&1))for(c.a&=-2,f=c.g,d=0;d<
f.length;d++)if(e=f[d],null!==e)for(f[d]=null,h=0;h<e.length;h++)g=e[h],g.constructor===u?v(g):g.call();if(0!==(c.a&2))for(c.a&=-3,e=c.h,d=0;d<e.length;d++)g=e[d],g.constructor===u?v(g):g.call()}d=0;for(h=b.length;d<h;)g=b[d++],0===(g.a&16)?(g.a&=-33,d===h?b.pop():b[--d]=b.pop()):v(g);for(;0!==(c.a&4);)for(c.a&=-5,e=c.c,c.c=null,d=0;d<e.length;d++)g=e[d],g.constructor===u?v(g):g.call()}while(0!==(c.a&3));for(;0!==(c.a&8);)for(c.a&=-9,e=c.f,d=0;d<e.length;d++)g=e[d],g.constructor===u?v(g):g.call();
null!==c.b&&(c.b.constructor===w?c.b.b.focus():c.b.focus(),c.b=null);0<b.length&&0===(a.a&8)&&(a.a|=8,window.requestAnimationFrame(a.i));a.c++;a.a&=-257}};function x(a){this.a=0;this.g=a;this.c=this.b=this.f=null}function y(a){var b;null===a.c&&(b=0===(a.a&1)?document.createElement(a.g):document.createElementNS("http://www.w3.org/2000/svg",a.g),a.c=b,null!==a.f&&(b.style.cssText=a.f),null!==a.b&&(b.className=a.b));return a.c.cloneNode(!1)}function z(a,b){a.b=b;return a};function A(){this.a=0;this.b="div";this.c=null}function E(a,b){var c;c="string"===typeof a.b?0===(a.a&1)?document.createElement(a.b):document.createElementNS("http://www.w3.org/2000/svg",a.b):y(a.b);return new u(8,a,b,c)}function u(a,b,c,f){this.a=a;this.i=b;this.j=null===c?0:c.j+1;this.b=null;this.f=f;this.h=this.g=this.c=null}function F(a,b){a.b!==b&&(a.b=b,a.a|=8)}function v(a){10===(a.a&10)&&(a.i.c(a),a.a&=-9)}
function G(a,b){null===a.c?(b.f=a,0!==(a.a&4)?(H(b,a.f,a),a.a&=-5):(b.b=a.f,J(b,a))):K(a.c,b,a);a.c=b}function L(a){a.a|=2;a=a.c;null!==a&&(a.constructor===w?M(a):a.constructor===u&&L(a))}function P(a){a.a|=1;var b=a.c;null!==b&&(b.constructor===w?Q(b):b.constructor===u&&P(b));a.a&=-19;b=a.g;if(null!==b)if(b.constructor===p)b.b.a(b);else for(var c=0;c<b.length;c++){var f=b[c];f.b.a(f)}a.g=null;b=a.h;if(null!==b)if(b.constructor===p)b.b.a(b);else for(c=0;c<b.length;c++)f=b[c],f.b.a(f);a.h=null};function w(a,b,c){this.a=a;this.h=b;this.c=c;this.f=this.b=this.g=this.i=this.j=null}function R(a){return new w(2,a,null)}function ca(a){var b=S;void 0===a&&(a=null);return new w(4,b,a)}function T(a,b){a.i=b;return a}function U(a,b){a.g=b;return a}function V(a,b){return a.a===b.a&&a.h===b.h&&!0}
function W(a,b){var c=a.a;0!==(c&1)?a.b=document.createTextNode(a.c):0!==(c&2)?a.b="string"===typeof a.h?0===(c&16)?document.createElement(a.h):document.createElementNS("http://www.w3.org/2000/svg",a.h):y(a.h):0!==(c&4)&&(c=E(a.h,b),a.b=c.f,a.f=c)}
function J(a,b){var c,f,e,g;c=a.a;var d;if(0!==(c&10)){d=a.b;var h=a.c;if(null!==h)for(g=Object.keys(h),c=0,f=g.length;c<f;c++)e=g[c],d[e]=h[e];null!==a.j&&(d.style.cssText=a.j);null!==a.i&&(d.className=a.i);e=a.g;if(null!==e)if("string"===typeof e)d.textContent=e;else for(c=0,f=e.length;c<f;c++)X(a,e[c],null,b)}else 0!==(c&4)&&(c=a.f,F(c,a.c),v(c))}
function H(a,b,c){var f=a.a,e=a.g;a.b=b;if(0!==(f&4))b=new u(12,a.h,c,b),b=a.f=b,F(b,a.c),v(b);else if(null!==e&&"string"!==typeof e&&0<e.length){for(var f=b.firstChild,g;8===f.nodeType;)g=f,f=f.nextSibling,b.removeChild(g);for(a=0;a<e.length;a++)for(H(e[a],f,c),f=f.nextSibling;8===f.nodeType;)g=f,f=f.nextSibling,b.removeChild(g)}}
function K(a,b,c){var f=a.b,e=a.a;b.b=f;if(0!==(e&1))a.c!==b.c&&(a.b.nodeValue=b.c);else if(0!==(e&10)){if(a.c!==b.c){var e=a.c,g=b.c,d,h,k,l,m,n;if(null!==e)if(null===g)for(l=Object.keys(e),d=0,h=l.length;d<h;d++)f[l[d]]=void 0;else{l=Object.keys(e);d=0;for(h=l.length;d<h;d++)k=l[d],g.hasOwnProperty(k)?(m=e[k],n=g[k],m!==n&&(f[k]=n)):f[k]=void 0;l=Object.keys(g);d=0;for(h=l.length;d<h;d++)k=l[d],e.hasOwnProperty(k)||(f[k]=g[k])}else if(null!==g)for(l=Object.keys(g),d=0,h=l.length;d<h;d++)k=l[d],
f[k]=g[k]}a.j!==b.j&&(f.style.cssText=null===b.j?"":b.j);a.i!==b.i&&(f.className=null===b.i?"":b.i);e=a.g;b=b.g;d=0;h=!1;if("string"===typeof e)if(null===b)a.b.removeChild(a.b.firstChild);else if("string"===typeof b)e!==b&&((c=a.b.firstChild)?c.nodeValue=b:a.b.textContent=b);else for(a.b.removeChild(a.b.firstChild);d<b.length;)X(a,b[d++],null,c);else if("string"===typeof b){if(null!==e)for(;d<e.length;)Y(a,e[d++]);a.b.textContent=b}else if(null!==e&&0!==e.length)if(null===b||0===b.length)for(;d<e.length;)Y(a,
e[d++]);else if(1===e.length&&1===b.length)f=e[0],g=b[0],V(f,g)?K(f,g,c):da(a,g,f,c);else if(1===e.length){f=e[0];if(0===(a.a&32))for(;d<b.length;){g=b[d++];if(V(f,g)){K(f,g,c);h=!0;break}X(a,g,f.b,c)}else for(;d<b.length;){g=b[d++];K(f,g,c);h=!0;break}if(h)for(;d<b.length;)X(a,b[d++],null,c);else Y(a,f)}else if(1===b.length){g=b[0];if(0===(a.a&32))for(;d<e.length;){f=e[d++];if(V(f,g)){K(f,g,c);h=!0;break}Y(a,f)}else for(;d<e.length;){f=e[d++];K(f,g,c);h=!0;break}if(h)for(;d<e.length;)Y(a,e[d++]);
else X(a,g,null,c)}else if(0===(a.a&32)){f=d=0;h=e.length-1;for(g=b.length-1;d<=h&&f<=g;){k=e[d];l=b[f];if(!V(k,l))break;d++;f++;K(k,l,c)}for(;d<=h&&f<=g;){k=e[h];l=b[g];if(!V(k,l))break;h--;g--;K(k,l,c)}for(;d<=h&&f<=g;)k=e[d++],l=b[f++],V(k,l)?K(k,l,c):da(a,l,k,c);if(d<=h){do Y(a,e[d++]);while(d<=h)}else if(f<=g){e=g+1;e=e<b.length?b[e].b:null;do X(a,b[f++],e,c);while(f<=g)}}else{f=l=0;m=e.length-1;k=b.length-1;g=e[l];d=b[f];var B,I;n=0;a:do for(;;){K(g,d,c);l++;f++;if(l>m||f>k)break a;g=e[l];d=
b[f]}while(l<=m&&f<=k);if(l>m)for(m=k+1,m=m<b.length?b[m].b:null;f<=k;)X(a,b[f++],m,c);else if(f>k)for(;l<=m;)Y(a,e[l++]);else{var C=m-l+1;d=k-f+1;g=Array(d);for(h=0;h<d;h++)g[h]=-1;var N=!1,O=0;if(16>=C*d)for(h=l;h<=m;h++){var D=!0;B=e[h];for(l=f;l<=k;){I=b[l];g[l-f]=h;n>l?N=!0:n=l;K(B,I,c);D=!1;break}D&&(Y(a,B),O++)}else{D={};for(h=f;h<=k;h++)D[null]=h;for(h=l;h<=m;h++)B=e[h],l=D[null],void 0!==l?(I=b[l],g[l-f]=h,n>l?N=!0:n=l,K(B,I,c)):(Y(a,B),O++)}if(N){h=g.slice(0);e=[];e.push(0);k=0;for(l=g.length;k<
l;k++)if(-1!==g[k])if(m=e[e.length-1],g[m]<g[k])h[k]=m,e.push(k);else{m=0;for(n=e.length-1;m<n;)C=(m+n)/2|0,g[e[C]]<g[k]?m=C+1:n=C;g[k]<g[e[m]]&&(0<m&&(h[k]=e[m-1]),e[m]=k)}m=e.length;for(n=e[m-1];0<m--;)e[m]=n,n=h[n];l=e.length-1;for(h=d-1;0<=h;h--)-1===g[h]?(k=h+f,d=b[k],m=k+1,m=m<b.length?b[m].b:null,X(a,d,m,c)):0>l||h!==e[l]?(k=h+f,d=b[k],m=k+1,m=m<b.length?b[m].b:null,a.b.insertBefore(d.b,m)):l--}else if(C-O!==d)for(h=d-1;0<=h;h--)-1===g[h]&&(k=h+f,d=b[k],m=k+1,m=m<b.length?b[m].b:null,X(a,d,
m,c))}}else if(null!==b&&0<b.length)for(d=0;d<b.length;d++)X(a,b[d],null,c)}else 0!==(e&4)&&(a=b.f=a.f,F(a,b.c),v(a))}function M(a){if(0===(a.a&4)){if(a=a.g,null!==a&&"string"!==typeof a)for(var b=0;b<a.length;b++)M(a[b])}else L(a.f)}function Q(a){if(0!==(a.a&4))P(a.f);else if(null!==a.g&&(a=a.g,"string"!==typeof a))for(var b=0;b<a.length;b++)Q(a[b])}function X(a,b,c,f){W(b,f);a.b.insertBefore(b.b,c);0!==(b.a&4)&&L(b.f);J(b,f)}
function da(a,b,c,f){W(b,f);a.b.replaceChild(b.b,c.b);Q(c);0!==(b.a&4)&&L(b.f);J(b,f)}function Y(a,b){a.b.removeChild(b.b);Q(b)};function ea(a){var b=document.getElementById("app"),c=E(Z,null);b.appendChild(c.f);c.a|=2;F(c,a);v(c);return c};var S=new A;S.b=z(new x("div"),"popover left");var fa=z(new x("div"),"popover-content"),ga=z(new x("div"),"arrow");S.c=function(a){G(a,U(new w(8,null,null),[U(R(fa),a.b),R(ga)]))};var Z=new A;Z.b=z(new x("table"),"table table-striped latest-data");var ha=z(new x("td"),"dbname"),ia=z(new x("td"),"query-count");
Z.c=function(a){for(var b=a.b,c=Array(b.length),f=0;f<b.length;f++){for(var e=b[f],g=R("tr"),d=e.lastSample.topFiveQueries,e=[U(R(ha),e.dbname),U(R(ia),[U(T(R("span"),e.lastSample.countClassName),""+e.lastSample.nbQueries)])],h=0;5>h;h++){var k=d[h];e.push(U(T(R("td"),k.elapsedClassName),[new w(1,null,k.formatElapsed),ca(k.query)]))}c[f]=U(g,e)}G(a,U(T(new w(8,null,null),"table table-striped latest-data"),[U(R("tbody"),c)]))};
document.addEventListener("DOMContentLoaded",function(){function a(){b=window.ENV.generateData(!1).toArray();c.b=b;Z.c(c);window.Monitoring.renderRate.ping();setTimeout(a,window.ENV.timeout)}var b=window.ENV.generateData(!1).toArray(),c=ea(b);setTimeout(a,window.ENV.timeout)});}).call();
