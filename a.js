(function(){'use strict';function p(a,b){this.a=a;this.b=b};function q(){this.a=0;this.g=[];this.b=this.f=this.c=this.h=null};function t(a){var b=this.a="__pms"+Math.random().toString();window.addEventListener("message",function(c){c.source===window&&c.data===b&&a()})};function u(a){this.b=new window.MutationObserver(a);this.a=document.createTextNode("");this.b.observe(this.a,{characterData:!0})};function v(){this.a=[];this.b=[]}function w(a){for(var b=0,c=a.a;b<c.length;)c[b++]();b=0;for(c=a.b;b<c.length;)c[b].call(c[b+1]),b+=2};new function(){this.a=0;this.c=1;this.b=new v;this.g=new v;this.f=new q;this.h=new q;this.j=[];var a=this;new u(function(){a.a|=256;for(var b=a.b;0!==b.a.length||0!==b.b.length;)a.b=new v,w(b),b=a.b;a.c++;a.a&=-258});new t(function(){a.a&=-3;a.a|=256;var b=a.g;if(0!==b.a.length||0!==b.b.length)a.g=new v,w(b);a.c++;a.a&=-257});this.i=function(){var b=a.j,c,d,f,h,e,g;a.a&=-9;a.a|=256;c=a.h;a.h=a.f;a.f=c;for(e=0;e<b.length;e++)b[e].a|=8;do{for(;0!==(c.a&3);){if(0!==(c.a&1))for(c.a&=-2,d=c.g,e=0;e<d.length;e++)if(f=
d[e],null!==f)for(d[e]=null,g=0;g<f.length;g++)h=f[g],h.constructor===x?y(h):h.call();if(0!==(c.a&2))for(c.a&=-3,f=c.h,e=0;e<f.length;e++)h=f[e],h.constructor===x?y(h):h.call()}e=0;for(g=b.length;e<g;)h=b[e++],0===(h.a&16)?(h.a&=-33,e===g?b.pop():b[--e]=b.pop()):y(h);for(;0!==(c.a&4);)for(c.a&=-5,f=c.c,c.c=null,e=0;e<f.length;e++)h=f[e],h.constructor===x?y(h):h.call()}while(0!==(c.a&3));for(;0!==(c.a&8);)for(c.a&=-9,f=c.f,e=0;e<f.length;e++)h=f[e],h.constructor===x?y(h):h.call();null!==c.b&&(c.b.constructor===
z?c.b.b.focus():c.b.focus(),c.b=null);0<b.length&&0===(a.a&8)&&(a.a|=8,window.requestAnimationFrame(a.i));a.c++;a.a&=-257}};function A(a){this.a=0;this.g=a;this.c=this.b=this.f=null}function B(a){var b;return null===a.c?(b=0===(a.a&1)?document.createElement(a.g):document.createElementNS("http://www.w3.org/2000/svg",a.g),null!==a.f&&(b.style.cssText=a.f),null!==a.b&&(b.className=a.b),0!==(a.a&2)&&(a.c=b),b):a.c.cloneNode(!1)}function E(a,b){a.b=b;return a};function F(a,b){var c;c="string"===typeof a.b?0===(a.a&1)?document.createElement(a.b):document.createElementNS("http://www.w3.org/2000/svg",a.b):B(a.b);return new x(8,a,b,c)}function x(a,b,c,d){this.a=a;this.i=b;this.j=null===c?0:c.j+1;this.c=null;this.f=d;this.h=this.g=this.b=null}function G(a,b){a.c!==b&&(a.c=b,a.a|=8)}function y(a){10===(a.a&10)&&(a.i.c(a),a.a&=-9)}function H(a){a.a|=2;a=a.b;null!==a&&(a.constructor===z?J(a):a.constructor===x&&H(a))}
function K(a){a.a|=1;var b=a.b;null!==b&&(b.constructor===z?L(b):b.constructor===x&&K(b));a.a&=-19;b=a.g;if(null!==b)if(b.constructor===p)b.b.a(b);else for(var c=0;c<b.length;c++){var d=b[c];d.b.a(d)}a.g=null;b=a.h;if(null!==b)if(b.constructor===p)b.b.a(b);else for(c=0;c<b.length;c++)d=b[c],d.b.a(d);a.h=null};function z(a,b,c){this.a=a;this.i=b;this.g=c;this.h=this.b=this.f=this.c=this.j=null}function O(a){return new z(2,a,null)}function P(a,b){a.c=b;return a}function Q(a,b){a.f=b;return a}function R(a,b){return a.a===b.a&&a.i===b.i&&!0}function S(a,b){var c=a.a;0!==(c&1)?a.b=document.createTextNode(a.g):0!==(c&2)?a.b="string"===typeof a.i?0===(c&16)?document.createElement(a.i):document.createElementNS("http://www.w3.org/2000/svg",a.i):B(a.i):0!==(c&4)&&(c=F(a.i,b),a.b=c.f,a.h=c)}
function T(a,b){var c,d,f,h,e=a.a,g;if(0!==(e&10)){g=a.b;var k=a.g;if(null!==k)for(h=Object.keys(k),c=0,d=h.length;c<d;c++)f=h[c],g[f]=k[f];null!==a.j&&(0===(e&16)?g.style.cssText=a.j:g.setAttribute("style",a.j));null!==a.c&&(0===(e&16)?g.className=a.c:g.setAttribute("class",a.c));e=a.f;if(null!==e)if(0===(a.a&768))if("string"===typeof e)g.textContent=e;else for(c=0,d=e.length;c<d;c++)U(a,e[c],null,b);else g=a.b,0!==(a.a&256)?g.value=a.f:g.checked=a.f}else 0!==(e&4)&&(c=a.h,g=a.b,null!==a.c&&(0===
(e&16)?g.className=a.c:g.setAttribute("class",a.c)),G(c,a.g),y(c))}function V(a,b,c){var d=a.a,f=a.f;a.b=b;if(0!==(d&4))b=new x(12,a.i,c,b),b=a.h=b,G(b,a.g),y(b);else if(null!==f&&"string"!==typeof f&&0<f.length){for(var d=b.firstChild,h;8===d.nodeType;)h=d,d=d.nextSibling,b.removeChild(h);for(a=0;a<f.length;a++)for(V(f[a],d,c),d=d.nextSibling;8===d.nodeType;)h=d,d=d.nextSibling,b.removeChild(h)}}
function W(a,b,c){var d=a.b,f=a.a,h;b.b=d;if(0!==(f&1))a.g!==b.g&&(a.b.nodeValue=b.g);else if(0!==(f&10)){if(a.g!==b.g){h=a.g;var e=b.g,g,k,m,l,n,r;if(null!==h)if(null===e)for(l=Object.keys(h),g=0,k=l.length;g<k;g++)d[l[g]]=void 0;else{l=Object.keys(h);g=0;for(k=l.length;g<k;g++)m=l[g],e.hasOwnProperty(m)?(n=h[m],r=e[m],n!==r&&(d[m]=r)):d[m]=void 0;l=Object.keys(e);g=0;for(k=l.length;g<k;g++)m=l[g],h.hasOwnProperty(m)||(d[m]=e[m])}else if(null!==e)for(l=Object.keys(e),g=0,k=l.length;g<k;g++)m=l[g],
d[m]=e[m]}a.j!==b.j&&(h=null===b.j?"":b.j,0===(f&16)?d.style.cssText=h:d.setAttribute("style",h));a.c!==b.c&&(h=null===b.c?"":b.c,0===(f&16)?d.className=h:d.setAttribute("class",h));if(0===(a.a&768))if(f=a.f,b=b.f,e=0,g=!1,"string"===typeof f)if(null===b)a.b.removeChild(a.b.firstChild);else if("string"===typeof b)f!==b&&((c=a.b.firstChild)?c.nodeValue=b:a.b.textContent=b);else for(a.b.removeChild(a.b.firstChild);e<b.length;)U(a,b[e++],null,c);else if("string"===typeof b){if(null!==f)for(;e<f.length;)X(a,
f[e++]);a.b.textContent=b}else if(null!==f&&0!==f.length)if(null===b||0===b.length)for(;e<f.length;)X(a,f[e++]);else if(1===f.length&&1===b.length)d=f[0],h=b[0],R(d,h)?W(d,h,c):Y(a,h,d,c);else if(1===f.length){d=f[0];if(0===(a.a&32))for(;e<b.length;){h=b[e++];if(R(d,h)){W(d,h,c);g=!0;break}U(a,h,d.b,c)}else for(;e<b.length;){h=b[e++];W(d,h,c);g=!0;break}if(g)for(;e<b.length;)U(a,b[e++],null,c);else X(a,d)}else if(1===b.length){h=b[0];if(0===(a.a&32))for(;e<f.length;){d=f[e++];if(R(d,h)){W(d,h,c);
g=!0;break}X(a,d)}else for(;e<f.length;){d=f[e++];W(d,h,c);g=!0;break}if(g)for(;e<f.length;)X(a,f[e++]);else U(a,h,null,c)}else if(0===(a.a&32)){d=e=0;g=f.length-1;for(h=b.length-1;e<=g&&d<=h;){k=f[e];m=b[d];if(!R(k,m))break;e++;d++;W(k,m,c)}for(;e<=g&&d<=h;){k=f[g];m=b[h];if(!R(k,m))break;g--;h--;W(k,m,c)}for(;e<=g&&d<=h;)k=f[e++],m=b[d++],R(k,m)?W(k,m,c):Y(a,m,k,c);if(e<=g){do X(a,f[e++]);while(e<=g)}else if(d<=h){f=h+1;f=f<b.length?b[f].b:null;do U(a,b[d++],f,c);while(d<=h)}}else{d=m=0;l=f.length-
1;k=b.length-1;h=f[m];var e=b[d],C,I;n=0;a:do for(;;){W(h,e,c);m++;d++;if(m>l||d>k)break a;h=f[m];e=b[d]}while(m<=l&&d<=k);if(m>l)for(l=k+1,l=l<b.length?b[l].b:null;d<=k;)U(a,b[d++],l,c);else if(d>k)for(;m<=l;)X(a,f[m++]);else{r=l-m+1;e=k-d+1;h=Array(e);for(g=0;g<e;g++)h[g]=-1;var M=!1,N=0;if(16>=r*e)for(g=m;g<=l;g++){var D=!0;C=f[g];for(m=d;m<=k;){I=b[m];h[m-d]=g;n>m?M=!0:n=m;W(C,I,c);D=!1;break}D&&(X(a,C),N++)}else{D=new Map;for(g=d;g<=k;g++)D.set(null,g);for(g=m;g<=l;g++)C=f[g],m=D.get(null),void 0!==
m?(I=b[m],h[m-d]=g,n>m?M=!0:n=m,W(C,I,c)):(X(a,C),N++)}if(M){g=h.slice(0);f=[];f.push(0);k=0;for(m=h.length;k<m;k++)if(-1!==h[k])if(l=f[f.length-1],h[l]<h[k])g[k]=l,f.push(k);else{l=0;for(n=f.length-1;l<n;)r=(l+n)/2|0,h[f[r]]<h[k]?l=r+1:n=r;h[k]<h[f[l]]&&(0<l&&(g[k]=f[l-1]),f[l]=k)}l=f.length;for(n=f[l-1];0<l--;)f[l]=n,n=g[n];m=f.length-1;for(g=e-1;0<=g;g--)-1===h[g]?(k=g+d,e=b[k],l=k+1,l=l<b.length?b[l].b:null,U(a,e,l,c)):0>m||g!==f[m]?(k=g+d,e=b[k],l=k+1,l=l<b.length?b[l].b:null,a.b.insertBefore(e.b,
l)):m--}else if(r-N!==e)for(g=e-1;0<=g;g--)-1===h[g]&&(k=g+d,e=b[k],l=k+1,l=l<b.length?b[l].b:null,U(a,e,l,c))}}else{if(null!==b&&0<b.length)for(e=0;e<b.length;e++)U(a,b[e],null,c)}else 0!==(f&256)?d.value!==b.f&&(d.value=b.f):d.checked!==b.f&&(d.checked=b.f)}else 0!==(f&4)&&(a.c!==b.c&&(h=null===b.c?"":b.c,0===(f&16)?d.className=h:d.setAttribute("class",h)),a=b.h=a.h,G(a,b.g),y(a))}
function J(a){if(0===(a.a&4)){if(a=a.f,null!==a&&"string"!==typeof a)for(var b=0;b<a.length;b++)J(a[b])}else H(a.h)}function L(a){if(0!==(a.a&4))K(a.h);else if(null!==a.f&&(a=a.f,"string"!==typeof a))for(var b=0;b<a.length;b++)L(a[b])}function U(a,b,c,d){S(b,d);a.b.insertBefore(b.b,c);0!==(b.a&4)&&H(b.h);T(b,d)}function Y(a,b,c,d){S(b,d);a.b.replaceChild(b.b,c.b);L(c);0!==(b.a&4)&&H(b.h);T(b,d)}function X(a,b){a.b.removeChild(b.b);L(b)};function aa(a){var b=document.getElementById("app"),c=F(Z,null);b.appendChild(c.f);c.a|=2;G(c,a);y(c);return c};var Z=new function(){this.a=0;this.b="div";this.c=null};Z.b=E(new A("table"),"table table-striped latest-data");var ba=E(new A("td"),"dbname"),ca=E(new A("td"),"query-count"),da=E(new A("div"),"popover left"),ea=E(new A("div"),"popover-content"),fa=E(new A("div"),"arrow");
Z.c=function(a){for(var b=a.c,c=Array(b.length),d=0;d<b.length;d++){var f=b[d],h=O("tr"),e=f.lastSample.topFiveQueries,g=Array(7);g[0]=Q(O(ba),f.dbname);g[1]=Q(O(ca),[Q(P(O("span"),f.lastSample.countClassName),""+f.lastSample.nbQueries)]);for(f=0;5>f;f++){var k=e[f];g[f+2]=Q(P(O("td"),k.elapsedClassName),[new z(1,null,k.formatElapsed),Q(O(da),[Q(O(ea),k.query),O(fa)])])}c[d]=Q(h,g)}b=Q(P(new z(8,null,null),"table table-striped latest-data"),[Q(O("tbody"),c)]);null===a.b?(b.h=a,0!==(a.a&4)?(V(b,a.f,
a),a.a&=-5):(b.b=a.f,T(b,a))):W(a.b,b,a);a.b=b};document.addEventListener("DOMContentLoaded",function(){function a(){b=window.ENV.generateData(!1).toArray();c.c=b;Z.c(c);window.Monitoring.renderRate.ping();setTimeout(a,window.ENV.timeout)}var b=window.ENV.generateData(!1).toArray(),c=aa(b);setTimeout(a,window.ENV.timeout)});}).call();
