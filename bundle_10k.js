(function(){'use strict';var q;function r(a,b,d){120!==b.charCodeAt(0)?a.setAttribute(b,d):109===b.charCodeAt(1)&&108===b.charCodeAt(2)?a.setAttributeNS("http://www.w3.org/XML/1998/namespace",b,d):108===b.charCodeAt(1)&&105===b.charCodeAt(2)?a.setAttributeNS("http://www.w3.org/1999/xlink",b,d):a.setAttribute(b,d)}function t(a,b,d){this.a=a;this.l=b;this.j=null;this.g=d;this.v=this.b=this.i=this.h=this.u=this.s=null}q=t.prototype;q.C=function(a){this.g=a;return this};q.data=function(a){this.g=a;return this};
q.style=function(a){this.u=a;return this};q.className=function(a){this.h=a;return this};q.children=function(a){this.i=a;return this};q.value=function(a){this.a|=64;this.i=a;return this};q.checked=function(a){this.a|=128;this.i=a;return this};function u(a){if(0===(a.a&4)){if(a=a.i,null!==a&&"string"!==typeof a)for(var b=0;b<a.length;b++)u(a[b])}else v(a.v)}function w(a){if(0===(a.a&4)){if(a=a.i,null!==a&&"string"!==typeof a)for(var b=0;b<a.length;b++)w(a[b])}else a.v.detach()}
function x(a){if(0===(a.a&256))if(0!==(a.a&4)){a=a.v;a.c|=1;null!==a.A&&0===(a.c&65536)&&x(a.A);0!==(a.c&2)&&aa(a);var b=a.B.T;null!==b&&b(a,a.C,a.state)}else{if(null!==a.i&&(a=a.i,"string"!==typeof a))for(b=0;b<a.length;b++)x(a[b])}else w(a)}
function ba(a,b){var d=a.a;0!==(d&1)?a.b=document.createTextNode(a.g):0!==(d&2)?0===(d&131072)?a.b=0===(d&32768)?document.createElement(a.l):document.createElementNS("http://www.w3.org/2000/svg",a.l):a.b=a.l.createElement():0===(d&256)&&(b=ca(a.l,b,a.g),a.b=b.element,a.v=b)}
function y(a,b){var d,c,f,g,e=a.a,h;if(0!==(e&10)){h=a.b;if(0===(e&262144)){var k=a.g;if(null!==k)for(g=Object.keys(k),d=0,c=g.length;d<c;d++)f=g[d],h[f]=k[f];if(null!==a.s)for(g=Object.keys(a.s),d=0,c=g.length;d<c;d++)f=g[d],r(h,f,a.s[f]);null!==a.u&&(0===(e&32768)?h.style.cssText=a.u:h.setAttribute("style",a.u));null!==a.h&&(0===(e&32768)?h.className=a.h:h.setAttribute("class",a.h))}else 0===(e&8)?a.l.update(h,void 0,a.g):b.B.l.update(h,void 0,a.g);f=a.i;if(null!==f)if(0===(a.a&192))if("string"===
typeof f)h.textContent=f;else for(d=0,c=f.length;d<c;d++)z(a,f[d],null,b);else 0!==(a.a&64)?a.b.value=a.i:a.b.checked=a.i}else 0!==(e&4)&&(h=a.b,null!==a.h&&(0===(e&32768)?h.className=a.h:h.setAttribute("class",a.h)),A(a.v))}function z(a,b,d,c){a=a.b;null===b.b?(ba(b,c),a.insertBefore(b.b,d),0!==(b.a&4)&&v(b.v),y(b,c)):(a.insertBefore(b.b,d),u(b),A(b.v,0===(b.a&512)?b.g:null))}
function da(a,b,d,c){a=a.b;null===b.b?(ba(b,c),a.replaceChild(b.b,d.b),0!==(b.a&4)&&v(b.v),y(b,c)):(a.replaceChild(b.b,d.b),u(b),A(b.v,0===(b.a&512)?b.g:null));x(d)}function B(a,b){a.b.removeChild(b.b);x(b)}
function C(a,b,d){var c=a.b,f=a.a,g;b.b=a.b;if(0!==(f&1))a.g!==b.g&&(a.b.nodeValue=b.g);else if(0!==(f&10)){if(0===(f&262144)){if(a.g!==b.g){g=a.g;var e=b.g,h=Object.keys(g),k,n;for(n=0;n<h.length;n++){k=h[n];var l=e[k];g[k]!==l&&(c[k]=l)}}if(a.s!==b.s)if(0===(a.a&32))for(g=a.s,e=b.s,h=Object.keys(g),n=0;n<h.length;n++)k=h[n],l=e[k],g[k]!==l&&r(c,k,l);else if(g=a.s,e=b.s,null!==g)if(null===e)for(k=Object.keys(g),h=0;h<k.length;h++)c.removeAttribute(k[h]);else{k=Object.keys(g);for(h=0;h<k.length;h++)n=
k[h],e.hasOwnProperty(n)?(l=e[n],g[n]!==l&&r(c,n,l)):c.removeAttribute(n);k=Object.keys(e);for(h=0;h<k.length;h++)n=k[h],g.hasOwnProperty(n)||r(c,n,e[n])}else if(null!==e)for(k=Object.keys(e),h=0;h<k.length;h++)n=k[h],r(c,n,e[n]);a.u!==b.u&&(g=null===b.u?"":b.u,0===(f&32768)?c.style.cssText=g:c.setAttribute("style",g));a.h!==b.h&&(g=null===b.h?"":b.h,0===(f&32768)?c.className=g:c.setAttribute("class",g))}else a.g!==b.g&&(0===(f&8)?a.l.update(c,a.g,b.g):d.B.l.update(c,a.g,b.g));if(0===(a.a&192)){if(a.i!==
b.i)if(c=a.i,b=b.i,e=0,h=!1,"string"===typeof c)if(null===b)a.b.removeChild(a.b.firstChild);else if("string"===typeof b)(d=a.b.firstChild)?d.nodeValue=b:a.b.textContent=b;else for(a.b.removeChild(a.b.firstChild);e<b.length;)z(a,b[e++],null,d);else if("string"===typeof b){if(null!==c)for(a.b.textContent="";e<c.length;)x(c[e++]);a.b.textContent=b}else if(null!==c&&0!==c.length)if(null===b||0===b.length)for(a.b.textContent="";e<c.length;)x(c[e++]);else if(1===c.length&&1===b.length)f=c[0],g=b[0],D(f,
g)?C(f,g,d):da(a,g,f,d);else if(1===c.length){f=c[0];if(0===(a.a&16))for(;e<b.length;){g=b[e++];if(D(f,g)){C(f,g,d);h=!0;break}z(a,g,f.b,d)}else for(;e<b.length;){g=b[e++];if(f.j===g.j){C(f,g,d);h=!0;break}z(a,g,f.b,d)}if(h)for(;e<b.length;)z(a,b[e++],null,d);else B(a,f)}else if(1===b.length){g=b[0];if(0===(a.a&16))for(;e<c.length;){f=c[e++];if(D(f,g)){C(f,g,d);h=!0;break}B(a,f)}else for(;e<c.length;){f=c[e++];if(f.j===g.j){C(f,g,d);h=!0;break}B(a,f)}if(h)for(;e<c.length;)B(a,c[e++]);else z(a,g,null,
d)}else if(0===(a.a&16)){f=e=0;h=c.length-1;for(g=b.length-1;e<=h&&f<=g;){k=c[e];n=b[f];if(!D(k,n))break;e++;f++;C(k,n,d)}for(;e<=h&&f<=g;){k=c[h];n=b[g];if(!D(k,n))break;h--;g--;C(k,n,d)}for(;e<=h&&f<=g;)k=c[e++],n=b[f++],D(k,n)?C(k,n,d):da(a,n,k,d);if(e<=h){do B(a,c[e++]);while(e<=h)}else if(f<=g){c=g+1;c=c<b.length?b[c].b:null;do z(a,b[f++],c,d);while(f<=g)}}else{var m=0,f=0,h=c.length-1;k=b.length-1;e=c[m];g=b[f];var l=c[h],p=b[k],E,G;n=0;var F;a:do{for(;e.j===g.j;){C(e,g,d);m++;f++;if(m>h||f>
k)break a;e=c[m];g=b[f]}for(;l.j===p.j;){C(l,p,d);h--;k--;if(m>h||f>k)break a;l=c[h];p=b[k]}if(e.j===p.j){C(e,p,d);e=k+1;e=e<b.length?b[e].b:null;a.b.insertBefore(p.b,e);m++;k--;if(m>h||f>k)break a;e=c[m];p=b[k];continue a}if(l.j===g.j){C(l,g,d);a.b.insertBefore(g.b,e.b);h--;f++;if(m>h||f>k)break a;l=c[h];g=b[f]}}while(0);if(m>h)for(e=k+1,e=e<b.length?b[e].b:null;f<=k;)z(a,b[f++],e,d);else if(f>k)for(;m<=h;)B(a,c[m++]);else{var ka=h-m+1,e=k-f+1;g=Array(e);for(l=0;l<e;l++)g[l]=-1;var T=!1,U=0;if(4>=
e||16>=ka*e)for(E=0,l=m;l<=h;l++){F=!0;p=c[l];if(E<e)for(m=f;m<=k;m++)if(G=b[m],p.j===G.j){g[m-f]=l;n>m?T=!0:n=m;C(p,G,d);E++;F=!1;break}F&&(B(a,p),U++)}else{var la=new Map;E=0;for(l=f;l<=k;l++)p=b[l],la.set(p.j,l);for(l=m;l<=h;l++)F=!0,p=c[l],E<e&&(m=la.get(p.j),void 0!==m&&(G=b[m],g[m-f]=l,n>m?T=!0:n=m,C(p,G,d),E++,F=!1)),F&&(B(a,p),U++)}if(T){h=g.slice(0);c=[];c.push(0);k=0;for(n=g.length;k<n;k++)if(-1!==g[k])if(l=c[c.length-1],g[l]<g[k])h[k]=l,c.push(k);else{l=0;for(m=c.length-1;l<m;)p=(l+m)/
2|0,g[c[p]]<g[k]?l=p+1:m=p;g[k]<g[c[l]]&&(0<l&&(h[k]=c[l-1]),c[l]=k)}l=c.length;for(m=c[l-1];0<l--;)c[l]=m,m=h[m];m=c.length-1;for(l=e-1;0<=l;l--)-1===g[l]?(e=l+f,p=b[e],e+=1,e=e<b.length?b[e].b:null,z(a,p,e,d)):0>m||l!==c[m]?(e=l+f,p=b[e],e+=1,e=e<b.length?b[e].b:null,a.b.insertBefore(p.b,e)):m--}else if(ka-U!==e)for(l=e-1;0<=l;l--)-1===g[l]&&(e=l+f,p=b[e],e+=1,e=e<b.length?b[e].b:null,z(a,p,e,d))}}else if(null!==b&&0<b.length)for(e=0;e<b.length;e++)z(a,b[e],null,d)}else 0!==(f&64)?c.value!==b.i&&
(c.value=b.i):c.checked!==b.i&&(c.checked=b.i)}else d=b.v=a.v,a.h!==b.h&&(g=null===b.h?"":b.h,0===(f&32768)?c.className=g:c.setAttribute("class",g)),0!==(f&1024)&&a.g===b.g||A(d,0===(f&512)?b.g:void 0)}function D(a,b){return a.a===b.a&&a.l===b.l&&a.j===b.j}function H(){this.f=4;this.a=0;this.l="div";this.T=this.S=this.O=this.J=this.V=null}H.prototype.update=function(a){this.J=a;return this};H.prototype.K=function(a){return new t(4,this,void 0===a?null:a)};
function ca(a,b,d){var c;0===(a.a&131072)?c=0===(a.a&32768)?document.createElement(a.l):document.createElementNS("http://www.w3.org/2000/svg",a.l):c=a.l.createElement();b=new I(a.f,a,c,b,d);0!==(a.a&1)&&(c.Z=b);return b}function I(a,b,d,c,f){this.c=a;this.X=0;this.B=b;this.element=d;this.depth=void 0===c?0:c.depth+1;this.C=void 0===f?null:f;this.state=null;this.A=0===(a&65536)?null:d.getContext("2d");this.I=this.H=null}I.prototype.F=function(){return 0===(this.c&131072)?new t(8,null,null):this.B.l.F()};
I.prototype.update=function(a){A(this,a)};function v(a){ea(a);null!==a.A&&0===(a.c&65536)&&u(a.A)}I.prototype.detach=function(){null!==this.A&&0===(this.c&65536)&&w(this.A);aa(this)};
function A(a,b){var d=a.c;if(void 0!==b&&0===(d&1024)){var c=a.C,f=a.B.V;null!==f?f(a,c,b):0===(a.c&4)&&(a.c|=4,fa(a));a.C=b}if(6===(a.c&6))if(0===(J&8)||0!==(J&32)||0!==(d&256)||0<ga())a.B.J(a,a.C,a.state),a.X=K,a.c&=-133;else if(ha(),b=L,0===(a.c&128)){a.c|=128;d=a.depth;for(b.a|=1;d>=b.m.length;)b.m.push(null);c=b.m[d];null===c?b.m[d]=[a]:c.push(a)}}function ea(a){a.c|=2;var b=a.B.O;null!==b&&b(a,a.C,a.state)}
function aa(a){0!==(a.c&512)&&(ia--,0===ia&&(J&=-9));a.c&=-531;for(var b=a.H;null!==b;)b.P(),b=b.R;a.H=null;fa(a);b=a.B.S;null!==b&&b(a,a.C,a.state)}function fa(a){for(var b=a.I;null!==b;)b.P(),b=b.R;a.I=null}function ja(a){var b=document.getElementById("app");a=ca(ma,void 0,a);b.appendChild(a.element);ea(a);A(a);return a}var na=new function(a){new Map;this.f=0;this.name=a}("system");new function(a,b,d){this.f=this.a=0;this.group=a;this.name=d;new Map}(na,na.f++,"actorDisposed");
function M(){this.a=0;this.m=[];this.f=this.w=this.D=this.o=null}M.prototype.write=function(a){this.a|=2;null===this.o&&(this.o=[]);this.o.push(a)};M.prototype.focus=function(a){this.f=a};var J=0,K=0,N=[],O=[],oa=new M,L=new M,P=[],Q=[],pa=document.createTextNode(""),qa="__kivi"+Math.random(),ia=0,R=10,S=60,V=0,ra=0;(new MutationObserver(sa)).observe(pa,{characterData:!0});window.addEventListener("message",ta);function ha(){0===(J&4)&&(J|=4,requestAnimationFrame(ua))}
function ta(a){if(a.source===window&&a.data===qa){J&=-3;Date.now();a=O;O=[];for(var b=0;b<a.length;b++)a[b]();K++}}
function ua(a){var b,d;J&=-21;Date.now();0!==(J&8)&&(va(function(){var b=(window.performance.now()-a)/1E3;S=Math.round((S+1/b)/2);V+=45>S?-1:1;5<V?(V=0,R+=.1):-5>V&&(V=0,R*=.66);12<R?R=12:2>R&&(R=2)}),ra=a+R);var c=L;L=oa;oa=c;for(d=0;d<P.length;d++)P[d].c|=4;do{for(;0!==(c.a&4);)for(c.a&=-5,b=c.D,c.D=null,d=0;d<b.length;d++)b[d]();for(;0!==(c.a&3);){if(0!==(c.a&1)){c.a&=-2;var f=c.m;for(d=0;d<f.length;d++){var g=f[d];if(null!==g)for(f[d]=null,b=0;b<g.length;b++)A(g[b])}}if(0!==(c.a&2))for(c.a&=-3,
b=c.o,c.o=null,d=0;d<b.length;d++)b[d]()}d=0;for(b=P.length;d<b;)f=P[d++],0===(f.c&16)?(f.c&=-33,d===b?P.pop():P[--d]=P.pop()):A(f)}while(0!==(c.a&7));for(;0!==(c.a&8);)for(c.a&=-9,b=c.w,c.w=null,d=0;d<b.length;d++)b[d]();null!==c.f&&(c.f.constructor===t?c.f.b.focus():c.f.focus(),c.f=null);0<P.length&&ha();K++}
function sa(){Date.now();do{for(;0<N.length;){var a=N;N=[];for(var b=0;b<a.length;b++)a[b]();K++}if(0<Q.length)for(a=Q,Q=[],b=0;b<a.length;b++){for(var d=a[b];0!==(d.a&2);){var c=d.U;d.U=[];d.a&=-3;for(var f=0;f<c.length;f++){var g=c[f];g.a|=4;d.state=d.B.Y(d,g,d.C,d.state)}}d.a&=-2;K++}}while(0<N.length&&0<Q.length);J&=-2}function va(a){0===(J&2)&&(J|=2,window.postMessage(qa,"*"));O.push(a)}function ga(){if(0!==(J&16))return 0;var a=ra-performance.now();return 0>=a?(J|=16,0):a}
function wa(a){this.f=131072;this.a=0;this.o=a;this.m=this.w=this.h=this.u=this.s=this.g=null}q=wa.prototype;q.C=function(a){this.g=a;return this};q.style=function(a){this.u=a;return this};q.className=function(a){this.h=a;return this};q.K=function(a){return new t(2|this.f,this,void 0===a?null:a)};q.F=function(a){return new t(8|this.f,this,void 0===a?null:a)};
q.createElement=function(){var a,b,d,c=this.m;if(null===c){c=0===(this.a&32768)?document.createElement(this.o):document.createElementNS("http://www.w3.org/2000/svg",this.o);if(null!==this.g)for(b=Object.keys(this.g),a=0;a<b.length;a++)d=b[a],c[d]=this.g[d];if(null!==this.s)for(b=Object.keys(this.s),a=0;a<b.length;a++)d=b[a],r(c,d,this.s[d]);null!==this.u&&(0===(this.a&32768)?c.style.cssText=this.u:c.setAttribute("style",this.u));null!==this.h&&(0===(this.a&32768)?c.className=this.h:c.setAttribute("class",
this.h));return 0!==(this.a&1)?(this.m=c,c.cloneNode(!1)):c}return c.cloneNode(!1)};q.update=function(a,b,d){this.w(a,b,d)};var W=null,X=[],xa=-1;function ya(){W||(W=document.createElement("div"),W.style.cssText="position: fixed;opacity: 0.9;right: 0;bottom: 0",document.body.appendChild(W))}function za(a){X.push(a);-1===xa&&requestAnimationFrame(function(){xa=-1;var a=X;X=[];for(var d=0;d<a.length;d++)a[d]()})}function Aa(a,b,d,c){this.min=a;this.max=b;this.M=d;this.now=c}
function Ba(){this.f=[]}function Ca(a,b){100===a.f.length&&a.f.shift();a.f.push(b)}function Da(a){for(var b=a.f[0],d=a.f[0],c=0,f=0;f<a.f.length;f++){var g=a.f[f];g<b&&(b=g);g>d&&(d=g);c+=g}return new Aa(b,d,c/a.f.length,a.f[a.f.length-1])}
function Ea(a,b,d){d=void 0===d?0:d;var c=this;this.W=function(){var a=c.f[c.f.length-1],b=30/(1.2*a.max),d=0===(c.c&32)?a.min.toFixed(2):""+Math.round(a.min),h=0===(c.c&32)?a.max.toFixed(2):""+Math.round(a.max),k=0===(c.c&32)?a.M.toFixed(2):""+Math.round(a.M),a=0===(c.c&32)?a.now.toFixed(2):""+Math.round(a.now);c.L.innerHTML=""+(0===(c.c&1)?"<div>min: &nbsp;"+d+c.w+"</div>":"")+(0===(c.c&2)?"<div>max: &nbsp;"+h+c.w+"</div>":"")+(0===(c.c&4)?"<div>mean: "+k+c.w+"</div>":"")+(0===(c.c&8)?"<div>now: &nbsp;"+
a+c.w+"</div>":"");if(0===(c.c&16))for(c.o.fillStyle="#010",c.o.fillRect(0,0,100,30),c.o.fillStyle="#0f0",d=0;d<c.f.length;d++)c.o.fillRect(d,30,1,-(c.f[d].now*b));c.D=!1};this.name=a;this.w=b;this.c=d;this.f=[];this.element=document.createElement("div");this.element.style.cssText="padding: 2px;background-color: #020;font-family: monospace;font-size: 12px;color: #0f0";this.G=document.createElement("div");this.G.style.cssText="text-align: center";this.G.textContent=this.name;this.L=document.createElement("div");
this.element.appendChild(this.G);this.element.appendChild(this.L);0===(d&16)?(this.m=document.createElement("canvas"),this.m.style.cssText="display: block; padding: 0; margin: 0",this.m.width=100,this.m.height=30,this.o=this.m.getContext("2d"),this.element.appendChild(this.m)):this.o=this.m=null;this.D=!1}function Fa(a,b){100===a.f.length&&a.f.shift();a.f.push(b);a.D||(a.D=!0,za(a.W))}
function Ga(){function a(g){var e=1/((g-(0===f?g:f))/1E3);if(Infinity!==e){64===c.length&&c.shift();c.push(e);for(var h=e=0;h<c.length;h++)e+=c[h];Ca(b,e/c.length);Fa(d,Da(b))}f=g;requestAnimationFrame(a)}ya();var b=new Ba,d=new Ea("FPS","",39);W.appendChild(d.element);var c=[],f=0;requestAnimationFrame(a)}
function Ha(){ya();if(void 0!==performance.memory){var a=function(){Ca(b,Math.round(c.usedJSHeapSize/1048576));Fa(d,Da(b));setTimeout(a,30)},b=new Ba,d=new Ea("Memory","MB",5);W.appendChild(d.element);var c=performance.memory;a()}}function Ia(a){this.data=new Ba;this.N=new Ea(a,"ms");this.startTime=0}var Y={};function Ja(a){a=Y[a];void 0!==a&&(a.startTime=performance.now())}function Ka(a){var b=performance.now();a=Y[a];void 0!==a&&(Ca(a.data,b-a.startTime),Fa(a.N,Da(a.data)))}
function La(a){ya();var b=Y[a];void 0===b&&(Y[a]=b=new Ia(a),W.appendChild(b.N.element))}function Ma(){for(var a=Array(100),b=0;100>b;b++)for(var d=a[b]=Array(100),c=0;100>c;c++)d[c]="#"+Math.floor(16777215*Math.random()).toString(16);return a}var Z=(new wa("span")).className("pixel");Z.f|=262144;Z.w=function(a,b,d){a.style.backgroundColor=d};
var ma=(new H).update(function(a,b){for(var d=Array(100),c=0;100>c;c++){var f=b[c],g=Array(100);d[c]=(new t(2,"div",null)).className("row").children(g);for(var e=0;100>e;e++)g[e]=Z.K(f[e])}b=a.F().className("image").children(d);null===a.A?(b.v=a,b.b=a.element,y(b,a)):C(a.A,b,a);a.A=b});
document.addEventListener("DOMContentLoaded",function(){function a(){Ja("data update");for(var c=0;100>c;c++)for(var f=b[c],g=0;100>g;g++)f[g]="#"+Math.floor(16777215*Math.random()).toString(16);Ka("data update");Ja("view update");d.update(b);Ka("view update");requestAnimationFrame(a)}Ga();Ha();La("data update");La("view update");var b=Ma(),d=ja(b);requestAnimationFrame(a)});}).call();
