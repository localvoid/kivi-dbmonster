(function(){'use strict';var q;function r(a,b,d){120!==b.charCodeAt(0)?a.setAttribute(b,d):109===b.charCodeAt(1)&&108===b.charCodeAt(2)?a.setAttributeNS("http://www.w3.org/XML/1998/namespace",b,d):108===b.charCodeAt(1)&&105===b.charCodeAt(2)?a.setAttributeNS("http://www.w3.org/1999/xlink",b,d):a.setAttribute(b,d)}function t(a,b,d){this.a=a;this.l=b;this.j=null;this.g=d;this.v=this.b=this.i=this.h=this.u=this.s=null}q=t.prototype;q.C=function(a){this.g=a;return this};q.data=function(a){this.g=a;return this};
q.style=function(a){this.u=a;return this};q.className=function(a){this.h=a;return this};q.children=function(a){this.i=a;return this};q.value=function(a){this.a|=128;this.i=a;return this};q.checked=function(a){this.a|=256;this.i=a;return this};
function aa(a,b){var d=a.a;0!==(d&1)?a.b=document.createTextNode(a.g):0!==(d&2)?0===(d&131072)?a.b=0===(d&32768)?document.createElement(a.l):document.createElementNS("http://www.w3.org/2000/svg",a.l):a.b=a.l.createElement():0===(d&512)&&(b=ba(a.l,b,a.g),a.b=b.element,a.v=b)}
function u(a,b){var d,c,g,f,e=a.a,h;if(0!==(e&10)){h=a.b;if(0===(e&262144)){var k=a.g;if(null!==k)for(f=Object.keys(k),d=0,c=f.length;d<c;d++)g=f[d],h[g]=k[g];if(null!==a.s)for(f=Object.keys(a.s),d=0,c=f.length;d<c;d++)g=f[d],r(h,g,a.s[g]);null!==a.u&&(0===(e&32768)?h.style.cssText=a.u:h.setAttribute("style",a.u));null!==a.h&&(0===(e&32768)?h.className=a.h:h.setAttribute("class",a.h))}else 0===(e&8)?a.l.update(h,void 0,a.g):b.w.l.update(h,void 0,a.g);g=a.i;if(null!==g)if(0===(a.a&384))if("string"===
typeof g)h.textContent=g;else for(d=0,c=g.length;d<c;d++)v(a,g[d],null,b);else 0!==(a.a&128)?a.b.value=a.i:a.b.checked=a.i}else 0!==(e&4)&&(h=a.b,null!==a.h&&(0===(e&32768)?h.className=a.h:h.setAttribute("class",a.h)),w(a.v))}function x(a){if(0===(a.a&4)){if(a=a.i,null!==a&&"string"!==typeof a)for(var b=0;b<a.length;b++)x(a[b])}else y(a.v)}function z(a){if(0===(a.a&4)){if(a=a.i,null!==a&&"string"!==typeof a)for(var b=0;b<a.length;b++)z(a[b])}else a.v.detach()}
function A(a){if(0===(a.a&512))if(0!==(a.a&4)){a=a.v;a.c|=1;null!==a.B&&0===(a.c&65536)&&A(a.B);0!==(a.c&2)&&ca(a);var b=a.w.U;null!==b&&b(a,a.C,a.state)}else{if(null!==a.i&&(a=a.i,"string"!==typeof a))for(b=0;b<a.length;b++)A(a[b])}else z(a)}function v(a,b,d,c){a=a.b;null===b.b?(aa(b,c),a.insertBefore(b.b,d),0!==(b.a&4)&&y(b.v),u(b,c)):(a.insertBefore(b.b,d),x(b),w(b.v,0===(b.a&1024)?b.g:null))}
function da(a,b,d,c){a=a.b;null===b.b?(aa(b,c),a.replaceChild(b.b,d.b),0!==(b.a&4)&&y(b.v),u(b,c)):(a.replaceChild(b.b,d.b),x(b),w(b.v,0===(b.a&1024)?b.g:null));A(d)}function B(a,b){a.b.removeChild(b.b);A(b)}
function C(a,b,d){var c=a.b,g=a.a,f;b.b=a.b;if(0!==(g&1))a.g!==b.g&&(a.b.nodeValue=b.g);else if(0!==(g&10)){if(0===(g&262144)){if(a.g!==b.g)if(0===(a.a&64)){f=a.g;var e=b.g,h=Object.keys(f),k,m;for(m=0;m<h.length;m++){k=h[m];var l=e[k];f[k]!==l&&(c[k]=l)}}else if(f=a.g,e=b.g,null!==f)if(null===e)for(k=Object.keys(f),h=0;h<k.length;h++)c[k[h]]=null;else{k=Object.keys(f);for(h=0;h<k.length;h++)m=k[h],e.hasOwnProperty(m)?(l=e[m],f[m]!==l&&(c[m]=l)):c[m]=null;k=Object.keys(e);for(h=0;h<k.length;h++)m=
k[h],f.hasOwnProperty(m)||(c[m]=e[m])}else if(null!==e)for(k=Object.keys(e),h=0;h<k.length;h++)m=k[h],c[m]=e[m];if(a.s!==b.s)if(0===(a.a&32))for(f=a.s,e=b.s,h=Object.keys(f),m=0;m<h.length;m++)k=h[m],l=e[k],f[k]!==l&&r(c,k,l);else if(f=a.s,e=b.s,null!==f)if(null===e)for(k=Object.keys(f),h=0;h<k.length;h++)c.removeAttribute(k[h]);else{k=Object.keys(f);for(h=0;h<k.length;h++)m=k[h],e.hasOwnProperty(m)?(l=e[m],f[m]!==l&&r(c,m,l)):c.removeAttribute(m);k=Object.keys(e);for(h=0;h<k.length;h++)m=k[h],f.hasOwnProperty(m)||
r(c,m,e[m])}else if(null!==e)for(k=Object.keys(e),h=0;h<k.length;h++)m=k[h],r(c,m,e[m]);a.u!==b.u&&(f=null===b.u?"":b.u,0===(g&32768)?c.style.cssText=f:c.setAttribute("style",f));a.h!==b.h&&(f=null===b.h?"":b.h,0===(g&32768)?c.className=f:c.setAttribute("class",f))}else a.g!==b.g&&(0===(g&8)?a.l.update(c,a.g,b.g):d.w.l.update(c,a.g,b.g));if(0===(a.a&384)){if(a.i!==b.i)if(c=a.i,b=b.i,e=0,h=!1,"string"===typeof c)if(null===b)a.b.removeChild(a.b.firstChild);else if("string"===typeof b)(d=a.b.firstChild)?
d.nodeValue=b:a.b.textContent=b;else for(a.b.removeChild(a.b.firstChild);e<b.length;)v(a,b[e++],null,d);else if("string"===typeof b){if(null!==c)for(;e<c.length;)B(a,c[e++]);a.b.textContent=b}else if(null!==c&&0!==c.length)if(null===b||0===b.length)for(;e<c.length;)B(a,c[e++]);else if(1===c.length&&1===b.length)g=c[0],f=b[0],D(g,f)?C(g,f,d):da(a,f,g,d);else if(1===c.length){g=c[0];if(0===(a.a&16))for(;e<b.length;){f=b[e++];if(D(g,f)){C(g,f,d);h=!0;break}v(a,f,g.b,d)}else for(;e<b.length;){f=b[e++];
if(g.j===f.j){C(g,f,d);h=!0;break}v(a,f,g.b,d)}if(h)for(;e<b.length;)v(a,b[e++],null,d);else B(a,g)}else if(1===b.length){f=b[0];if(0===(a.a&16))for(;e<c.length;){g=c[e++];if(D(g,f)){C(g,f,d);h=!0;break}B(a,g)}else for(;e<c.length;){g=c[e++];if(g.j===f.j){C(g,f,d);h=!0;break}B(a,g)}if(h)for(;e<c.length;)B(a,c[e++]);else v(a,f,null,d)}else if(0===(a.a&16)){g=e=0;h=c.length-1;for(f=b.length-1;e<=h&&g<=f;){k=c[e];m=b[g];if(!D(k,m))break;e++;g++;C(k,m,d)}for(;e<=h&&g<=f;){k=c[h];m=b[f];if(!D(k,m))break;
h--;f--;C(k,m,d)}for(;e<=h&&g<=f;)k=c[e++],m=b[g++],D(k,m)?C(k,m,d):da(a,m,k,d);if(e<=h){do B(a,c[e++]);while(e<=h)}else if(g<=f){c=f+1;c=c<b.length?b[c].b:null;do v(a,b[g++],c,d);while(g<=f)}}else{var n=0,g=0,h=c.length-1;k=b.length-1;e=c[n];f=b[g];var l=c[h],p=b[k],E,G;m=0;var F;a:do{for(;e.j===f.j;){C(e,f,d);n++;g++;if(n>h||g>k)break a;e=c[n];f=b[g]}for(;l.j===p.j;){C(l,p,d);h--;k--;if(n>h||g>k)break a;l=c[h];p=b[k]}if(e.j===p.j){C(e,p,d);e=k+1;e=e<b.length?b[e].b:null;a.b.insertBefore(p.b,e);
n++;k--;if(n>h||g>k)break a;e=c[n];p=b[k];continue a}if(l.j===f.j){C(l,f,d);a.b.insertBefore(f.b,e.b);h--;g++;if(n>h||g>k)break a;l=c[h];f=b[g]}}while(0);if(n>h)for(e=k+1,e=e<b.length?b[e].b:null;g<=k;)v(a,b[g++],e,d);else if(g>k)for(;n<=h;)B(a,c[n++]);else{var na=h-n+1,e=k-g+1;f=Array(e);for(l=0;l<e;l++)f[l]=-1;var V=!1,W=0;if(4>=e||16>=na*e)for(E=0,l=n;l<=h;l++){F=!0;p=c[l];if(E<e)for(n=g;n<=k;n++)if(G=b[n],p.j===G.j){f[n-g]=l;m>n?V=!0:m=n;C(p,G,d);E++;F=!1;break}F&&(B(a,p),W++)}else{var oa=new Map;
E=0;for(l=g;l<=k;l++)p=b[l],oa.set(p.j,l);for(l=n;l<=h;l++)F=!0,p=c[l],E<e&&(n=oa.get(p.j),void 0!==n&&(G=b[n],f[n-g]=l,m>n?V=!0:m=n,C(p,G,d),E++,F=!1)),F&&(B(a,p),W++)}if(V){h=f.slice(0);c=[];c.push(0);k=0;for(m=f.length;k<m;k++)if(-1!==f[k])if(l=c[c.length-1],f[l]<f[k])h[k]=l,c.push(k);else{l=0;for(n=c.length-1;l<n;)p=(l+n)/2|0,f[c[p]]<f[k]?l=p+1:n=p;f[k]<f[c[l]]&&(0<l&&(h[k]=c[l-1]),c[l]=k)}l=c.length;for(n=c[l-1];0<l--;)c[l]=n,n=h[n];n=c.length-1;for(l=e-1;0<=l;l--)-1===f[l]?(e=l+g,p=b[e],e+=
1,e=e<b.length?b[e].b:null,v(a,p,e,d)):0>n||l!==c[n]?(e=l+g,p=b[e],e+=1,e=e<b.length?b[e].b:null,a.b.insertBefore(p.b,e)):n--}else if(na-W!==e)for(l=e-1;0<=l;l--)-1===f[l]&&(e=l+g,p=b[e],e+=1,e=e<b.length?b[e].b:null,v(a,p,e,d))}}else if(null!==b&&0<b.length)for(e=0;e<b.length;e++)v(a,b[e],null,d)}else 0!==(g&128)?c.value!==b.i&&(c.value=b.i):c.checked!==b.i&&(c.checked=b.i)}else d=b.v=a.v,a.h!==b.h&&(f=null===b.h?"":b.h,0===(g&32768)?c.className=f:c.setAttribute("class",f)),0!==(g&2048)&&a.g===b.g||
w(d,0===(g&1024)?b.g:void 0)}function D(a,b){return a.a===b.a&&a.l===b.l&&a.j===b.j}function H(){this.f=4;this.a=0;this.l="div";this.U=this.T=this.P=this.K=this.W=null}H.prototype.update=function(a){this.K=a;return this};H.prototype.L=function(a){return new t(4,this,void 0===a?null:a)};
function ba(a,b,d){var c;0===(a.a&131072)?c=0===(a.a&32768)?document.createElement(a.l):document.createElementNS("http://www.w3.org/2000/svg",a.l):c=a.l.createElement();b=new I(a.f,a,c,b,d);0!==(a.a&1)&&(c.$=b);return b}function I(a,b,d,c,g){this.c=a;this.Y=0;this.w=b;this.element=d;this.depth=void 0===c?0:c.depth+1;this.C=void 0===g?null:g;this.state=null;this.B=0===(a&65536)?null:d.getContext("2d");this.J=this.I=null}I.prototype.G=function(){return 0===(this.c&131072)?new t(8,null,null):this.w.l.G()};
I.prototype.update=function(a){w(this,a)};function y(a){ea(a);null!==a.B&&0===(a.c&65536)&&x(a.B)}I.prototype.detach=function(){null!==this.B&&0===(this.c&65536)&&z(this.B);ca(this)};
function w(a,b){var d=a.c;if(void 0!==b&&0===(d&1024)){var c=a.C,g=a.w.W;null!==g?g(a,c,b):0===(a.c&4)&&(a.c|=4,fa(a));a.C=b}if(6===(a.c&6))if(0===(J&8)||0!==(J&32)||0!==(d&256)||0<ga())a.w.K(a,a.C,a.state),a.Y=K,a.c&=-133;else if(ha(),b=L,0===(a.c&128)){a.c|=128;d=a.depth;for(b.a|=1;d>=b.m.length;)b.m.push(null);c=b.m[d];null===c?b.m[d]=[a]:c.push(a)}}function ea(a){a.c|=2;var b=a.w.P;null!==b&&b(a,a.C,a.state)}
function ca(a){0!==(a.c&512)&&(ia--,0===ia&&(J&=-9));a.c&=-531;for(var b=a.I;null!==b;)b.R(),b=b.S;a.I=null;fa(a);b=a.w.T;null!==b&&b(a,a.C,a.state)}function fa(a){for(var b=a.J;null!==b;)b.R(),b=b.S;a.J=null}function ja(a){var b=document.getElementById("app");a=ba(ka,void 0,a);b.appendChild(a.element);ea(a);w(a);return a}function M(){this.a=0;this.m=[];this.f=this.A=this.D=this.o=null}M.prototype.write=function(a){this.a|=2;null===this.o&&(this.o=[]);this.o.push(a)};
M.prototype.focus=function(a){this.f=a};var J=0,K=0,N=[],O=[],la=new M,L=new M,P=[],ma=[],Q=[],pa=null,R=0,qa=document.createTextNode(""),ra="__kivi"+Math.random(),ia=0,S=10,sa=60,T=0,ta=0;(new MutationObserver(ua)).observe(qa,{characterData:!0});window.addEventListener("message",va);
function U(a){var b=J,d=pa;0===(b&448)?d.state=d.w.Z(d,a,d.C,d.state):0!==(b&64)?(b=ma[R++],R===ma.length&&(R=0,J&=-65),b(d,a,U)):0!==(b&128)?(b=d.w.F[R++],R===d.w.F.length&&(R=0,J&=-129),b(d,a,U)):0!==(b&256)&&(b=d.F[R++],R===d.F.length&&(J&=-257),b(d,a,U))}function ha(){0===(J&4)&&(J|=4,requestAnimationFrame(wa))}function va(a){if(a.source===window&&a.data===ra){J&=-3;Date.now();a=O;O=[];for(var b=0;b<a.length;b++)a[b]();K++}}
function wa(a){var b,d;J&=-21;Date.now();0!==(J&8)&&(xa(function(){var b=(window.performance.now()-a)/1E3;sa=Math.round((sa+1/b)/2);T+=45>sa?-1:1;5<T?(T=0,S+=.1):-5>T&&(T=0,S*=.66);12<S?S=12:2>S&&(S=2)}),ta=a+S);var c=L;L=la;la=c;for(d=0;d<P.length;d++)P[d].c|=4;do{for(;0!==(c.a&4);)for(c.a&=-5,b=c.D,c.D=null,d=0;d<b.length;d++)b[d]();for(;0!==(c.a&3);){if(0!==(c.a&1)){c.a&=-2;var g=c.m;for(d=0;d<g.length;d++){var f=g[d];if(null!==f)for(g[d]=null,b=0;b<f.length;b++)w(f[b])}}if(0!==(c.a&2))for(c.a&=
-3,b=c.o,c.o=null,d=0;d<b.length;d++)b[d]()}d=0;for(b=P.length;d<b;)g=P[d++],0===(g.c&16)?(g.c&=-33,d===b?P.pop():P[--d]=P.pop()):w(g)}while(0!==(c.a&7));for(;0!==(c.a&8);)for(c.a&=-9,b=c.A,c.A=null,d=0;d<b.length;d++)b[d]();null!==c.f&&(c.f.constructor===t?c.f.b.focus():c.f.focus(),c.f=null);0<P.length&&ha();K++}
function ua(){Date.now();do{for(;0<N.length;){var a=N;N=[];for(var b=0;b<a.length;b++)a[b]();K++}if(0<Q.length)for(a=Q,Q=[],b=0;b<a.length;b++){for(var d=a[b];0!==(d.a&2);){var c=d.V;d.V=[];d.a&=-3;for(var g=0;g<c.length;g++){var f=c[g];f.a|=4;pa=d;R=0;ma&&(J|=64);null!==d.w.F&&(J|=128);null!==d.F&&(J|=256);U(f)}}d.a&=-2;K++}}while(0<N.length&&0<Q.length);J&=-2}function xa(a){0===(J&2)&&(J|=2,window.postMessage(ra,"*"));O.push(a)}
function ga(){if(0!==(J&16))return 0;var a=ta-performance.now();return 0>=a?(J|=16,0):a}function ya(a){this.f=131072;this.a=0;this.o=a;this.m=this.A=this.h=this.u=this.s=this.g=null}q=ya.prototype;q.C=function(a){this.g=a;return this};q.style=function(a){this.u=a;return this};q.className=function(a){this.h=a;return this};q.L=function(a){return new t(2|this.f,this,void 0===a?null:a)};q.G=function(a){return new t(8|this.f,this,void 0===a?null:a)};
q.createElement=function(){var a,b,d,c=this.m;if(null===c){c=0===(this.a&32768)?document.createElement(this.o):document.createElementNS("http://www.w3.org/2000/svg",this.o);if(null!==this.g)for(b=Object.keys(this.g),a=0;a<b.length;a++)d=b[a],c[d]=this.g[d];if(null!==this.s)for(b=Object.keys(this.s),a=0;a<b.length;a++)d=b[a],r(c,d,this.s[d]);null!==this.u&&(0===(this.a&32768)?c.style.cssText=this.u:c.setAttribute("style",this.u));null!==this.h&&(0===(this.a&32768)?c.className=this.h:c.setAttribute("class",
this.h));return 0!==(this.a&1)?(this.m=c,c.cloneNode(!1)):c}return c.cloneNode(!1)};q.update=function(a,b,d){this.A(a,b,d)};var za=new function(a){new Map;this.f=0;this.name=a}("system");new function(a,b,d){this.f=this.a=0;this.group=a;this.name=d;new Map}(za,za.f++,"actorDisposed");var X=null,Aa=[],Ba=-1;function Ca(){X||(X=document.createElement("div"),X.style.cssText="position: fixed;opacity: 0.9;right: 0;bottom: 0",document.body.appendChild(X))}
function Da(a){Aa.push(a);-1===Ba&&requestAnimationFrame(function(){Ba=-1;var a=Aa;Aa=[];for(var d=0;d<a.length;d++)a[d]()})}function Ea(a,b,d,c){this.min=a;this.max=b;this.N=d;this.now=c}function Fa(){this.f=[]}function Ga(a,b){100===a.f.length&&a.f.shift();a.f.push(b)}function Ha(a){for(var b=a.f[0],d=a.f[0],c=0,g=0;g<a.f.length;g++){var f=a.f[g];f<b&&(b=f);f>d&&(d=f);c+=f}return new Ea(b,d,c/a.f.length,a.f[a.f.length-1])}
function Ia(a,b,d){d=void 0===d?0:d;var c=this;this.X=function(){var a=c.f[c.f.length-1],b=30/(1.2*a.max),d=0===(c.c&32)?a.min.toFixed(2):""+Math.round(a.min),h=0===(c.c&32)?a.max.toFixed(2):""+Math.round(a.max),k=0===(c.c&32)?a.N.toFixed(2):""+Math.round(a.N),a=0===(c.c&32)?a.now.toFixed(2):""+Math.round(a.now);c.M.innerHTML=""+(0===(c.c&1)?"<div>min: &nbsp;"+d+c.A+"</div>":"")+(0===(c.c&2)?"<div>max: &nbsp;"+h+c.A+"</div>":"")+(0===(c.c&4)?"<div>mean: "+k+c.A+"</div>":"")+(0===(c.c&8)?"<div>now: &nbsp;"+
a+c.A+"</div>":"");if(0===(c.c&16))for(c.o.fillStyle="#010",c.o.fillRect(0,0,100,30),c.o.fillStyle="#0f0",d=0;d<c.f.length;d++)c.o.fillRect(d,30,1,-(c.f[d].now*b));c.D=!1};this.name=a;this.A=b;this.c=d;this.f=[];this.element=document.createElement("div");this.element.style.cssText="padding: 2px;background-color: #020;font-family: monospace;font-size: 12px;color: #0f0";this.H=document.createElement("div");this.H.style.cssText="text-align: center";this.H.textContent=this.name;this.M=document.createElement("div");
this.element.appendChild(this.H);this.element.appendChild(this.M);0===(d&16)?(this.m=document.createElement("canvas"),this.m.style.cssText="display: block; padding: 0; margin: 0",this.m.width=100,this.m.height=30,this.o=this.m.getContext("2d"),this.element.appendChild(this.m)):this.o=this.m=null;this.D=!1}function Ja(a,b){100===a.f.length&&a.f.shift();a.f.push(b);a.D||(a.D=!0,Da(a.X))}
function Ka(){function a(f){var e=1/((f-(0===g?f:g))/1E3);if(Infinity!==e){64===c.length&&c.shift();c.push(e);for(var h=e=0;h<c.length;h++)e+=c[h];Ga(b,e/c.length);Ja(d,Ha(b))}g=f;requestAnimationFrame(a)}Ca();var b=new Fa,d=new Ia("FPS","",39);X.appendChild(d.element);var c=[],g=0;requestAnimationFrame(a)}
function La(){Ca();if(void 0!==performance.memory){var a=function(){Ga(b,Math.round(c.usedJSHeapSize/1048576));Ja(d,Ha(b));setTimeout(a,30)},b=new Fa,d=new Ia("Memory","MB",5);X.appendChild(d.element);var c=performance.memory;a()}}function Ma(a){this.data=new Fa;this.O=new Ia(a,"ms");this.startTime=0}var Y={};function Na(a){a=Y[a];void 0!==a&&(a.startTime=performance.now())}function Oa(a){var b=performance.now();a=Y[a];void 0!==a&&(Ga(a.data,b-a.startTime),Ja(a.O,Ha(a.data)))}
function Pa(a){Ca();var b=Y[a];void 0===b&&(Y[a]=b=new Ma(a),X.appendChild(b.O.element))}function Qa(){for(var a=Array(100),b=0;100>b;b++)for(var d=a[b]=Array(100),c=0;100>c;c++)d[c]="#"+Math.floor(16777215*Math.random()).toString(16);return a}var Z=(new ya("span")).className("pixel");Z.f|=262144;Z.A=function(a,b,d){a.style.backgroundColor=d};
var ka=(new H).update(function(a,b){for(var d=Array(100),c=0;100>c;c++){var g=b[c],f=Array(100);d[c]=(new t(2,"div",null)).className("row").children(f);for(var e=0;100>e;e++)f[e]=Z.L(g[e])}b=a.G().className("image").children(d);null===a.B?(b.v=a,b.b=a.element,u(b,a)):C(a.B,b,a);a.B=b});
document.addEventListener("DOMContentLoaded",function(){function a(){Na("data update");for(var c=0;100>c;c++)for(var g=b[c],f=0;100>f;f++)g[f]="#"+Math.floor(16777215*Math.random()).toString(16);Oa("data update");Na("view update");d.update(b);Oa("view update");requestAnimationFrame(a)}Ka();La();Pa("data update");Pa("view update");var b=Qa(),d=ja(b);requestAnimationFrame(a)});}).call();
